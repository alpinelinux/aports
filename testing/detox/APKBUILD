# Contributor: z3bra <willy at mailoo dot org>
# Maintainer:
pkgname=detox
pkgver=1.2.0
pkgrel=0
pkgdesc="Utility for cleaning up filenames"
url="https://github.com/dharple/detox"
arch="all"
license="BSD-3-Clause"
depends=""
depends_dev=""
makedepends="$depends_dev flex-dev"
install=""
subpackages="$pkgname-doc"
options="!check" # no upstream/available test-suite
source="$pkgname-$pkgver.tar.gz::https://github.com/dharple/detox/archive/v$pkgver.tar.gz"

builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--prefix=/usr \
		--sysconfdir=/etc \
		--infodir=/usr/share/info \
		--mandir=/usr/share/man \
		--datadir=/usr/share
	make
}

package() {
	cd "$builddir"

	install -d -m 755 $pkgdir/etc
	install -d -m 755 $pkgdir/usr/bin
	install -d -m 755 $pkgdir/usr/share/detox
	install -d -m 755 $pkgdir/usr/share/man/man1
	install -d -m 755 $pkgdir/usr/share/man/man5

	make DESTDIR="$pkgdir" install
}

sha512sums="48c0060ed0538c26aeba444bf327f1e52ea47d0e696577deeb43304dfb960ee5abe984651948bfc67c51d7f15f9051df2a208acfe53a5778a7471460e87f639a  detox-1.2.0.tar.bz2"
