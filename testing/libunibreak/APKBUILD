# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=libunibreak
pkgver=4.0
_pkgver=4_0
pkgrel=1
pkgdesc="Implementation of the unicode line breaking algorithm"
url="https://fbreader.org/content/fbreader-beta-linux-desktop"
arch="x86 x86_64 armhf aarch64"
license="zlib-acknowledgement"
makedepends="autoconf automake libtool"
subpackages="$pkgname-dev"
source="https://github.com/adah1972/$pkgname/archive/${pkgname}_${_pkgver}.tar.gz"
builddir="$srcdir/${pkgname}-${pkgname}_${_pkgver}"
options="!check"

build() {
	cd "$builddir"
	./autogen.sh
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

package() {
	cd "$builddir"
	make PREFIX="/usr" DESTDIR="$pkgdir" install
}

sha512sums="f11295133a1c65f365a5287f7377f69ac7998f19b06d44818fb55c8a5ba3edabc36de8d1b7c0d38db9d982f0e443d0a751f6d51841865094122df4cd74c9af3b  libunibreak_4_0.tar.gz"
