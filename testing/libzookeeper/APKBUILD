# Contributor: Maciej Klak <klak.maciej@gmail.com>
# Maintainer: Maciej Klak <klak.maciej@gmail.com>
pkgname=libzookeeper
pkgver=3.4.11
pkgrel=0
pkgdesc="The Apache ZooKeeper system for distributed coordination is a high-performance service for building distributed applications."
url="https://zookeeper.apache.org"
arch="all"
license="Apache License"
depends=""
makedepends=""
install=""
subpackages="$pkgname-dev"
source="ftp://ftp.task.gda.pl/pub/www/apache/dist/zookeeper/zookeeper-$pkgver/zookeeper-$pkgver.tar.gz"
builddir="$srcdir/zookeeper-$pkgver/src/c"

build() {
	cd "$builddir"
	./configure --prefix=/usr
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

dev() {
    pkgdesc="$pkgdesc (headers)"
    install -d "$subpkgdir"/usr/include
    mv $pkgdir/usr/include "$subpkgdir"/usr

    install -d "$subpkgdir"/usr/lib
    mv $pkgdir/usr/lib/*.a "$subpkgdir"/usr/lib
}


sha512sums="1ed2df11dbff2fbbb70d992d02427c4f694ccb4fe493db10a087b04d934b132b970956099edbdf1c2c636d5eb248bca1528846fcb449ae8bee4b9a82f7936f9e  zookeeper-3.4.11.tar.gz"
