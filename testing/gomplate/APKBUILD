# Maintainer: Dave Henderson <dhenderson@gmail.com>
pkgname=gomplate
_repo="github.com/hairyhenderson/$pkgname"
pkgver=1.5.0
pkgrel=1
pkgdesc="A versatile Go template processor."
url="https://$_repo"
arch="all"
license="MIT"
depends="ca-certificates"
makedepends="go"
install=""
source="$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz"

_godir="${srcdir}/go"
builddir="${_godir}/src/${_repo}"

prepare() {
  mkdir -p $(dirname ${builddir})
  mv ${srcdir}/$pkgname-$pkgver ${builddir} || return 1
  default_prepare || return 1
}

build() {
  cd ${builddir}
  export GOPATH="${_godir}"
  export VERSION="${pkgver}"
  export COMMIT="unknown"

  make build
}

package() {
    cd ${builddir}
    install -Dm755 bin/gomplate "$pkgdir"/usr/bin/gomplate || return 1
}

sha512sums="5fc19db209751dd7f9a7f12c99f188a8a47d604c42f24eb6b3ccd55f523e691ddd2d0db3eb23e1e0bdde9b25dcb2b8a53b088d68e5a697fa356bd08ea7ca78a9  gomplate-1.5.0.tar.gz"
