# Maintainer: Graham King <grking.email@gmail.com>
maintainer="Graham King <grking.email@gmail.com>"
pkgname=ekphos
pkgver=0.20.10
pkgrel=0
pkgdesc="A lightweight, fast, terminal-based markdown research tool inspired by Obsidian"
url="https://www.ekphos.xyz/"
arch="all"
license="MIT"
options="net" # cargo fetch
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="https://github.com/hanebox/ekphos/archive/v$pkgver/ekphos-$pkgver.tar.gz"

prepare() {
	default_prepare
	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --release --frozen
}

check() {
	cargo test --frozen
}

package() {
	install -Dm755 ./target/release/ekphos "$pkgdir/usr/bin/$pkgname"
	install -Dm644 ./LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}


sha512sums="
94f4ad8706624a8680745316c7d5b1811a0740cdcc802e30e42738e8cd953f43b3ae1849e0c33e401a81099eff14a95f478713cb82d12864508693a7381ca455  ekphos-0.20.10.tar.gz
"
