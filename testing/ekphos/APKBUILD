# Maintainer: Graham King <grking.email@gmail.com>
maintainer="Graham King <grking.email@gmail.com>"
pkgname=ekphos
pkgver=0.20.5
pkgrel=0
pkgdesc="A lightweight, fast, terminal-based markdown research tool inspired by Obsidian"
url="https://www.ekphos.xyz/"
arch="all"
license="MIT"
options="net" # cargo fetch
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="https://github.com/hanebox/ekphos/archive/v$pkgver/ekphos-$pkgver.tar.gz"

prepare() {
	default_prepare
	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --release --frozen
}

check() {
	cargo test --frozen
}

package() {
	install -Dm755 ./target/release/ekphos "$pkgdir/usr/bin/$pkgname"
	install -Dm644 ./LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}


sha512sums="
74f225206e71635710301e9dfc4b05da928514287c06d5964868c2b56f7db0e475ebdaf3051edddcb0d858c2da2a3320c0d465b4f4f578e4611fe05c35dbf235  ekphos-0.20.5.tar.gz
"
