# Maintainer: Graham King <grking.email@gmail.com>
maintainer="Graham King <grking.email@gmail.com>"
pkgname=ekphos
pkgver=0.20.0
pkgrel=0
pkgdesc="A lightweight, fast, terminal-based markdown research tool inspired by Obsidian"
url="https://www.ekphos.xyz/"
arch="all"
license="MIT"
options="net" # cargo fetch
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="https://github.com/hanebox/ekphos/archive/v$pkgver/ekphos-$pkgver.tar.gz"

prepare() {
	default_prepare
	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --release --frozen
}

check() {
	cargo test --frozen
}

package() {
	install -Dm755 ./target/release/ekphos "$pkgdir/usr/bin/$pkgname"
	install -Dm644 ./LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}


sha512sums="
b4bea029bc88b59d4f3b7fa29f8115e7332e0876e5e2617864b7feaa080f45365ff136459786f28d74c0aaf44ed48a560e1de4b00aa6a46ce475bef74247f07b  ekphos-0.20.0.tar.gz
"
