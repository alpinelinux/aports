--- a/compat.h
+++ b/compat.h
@@ -57,6 +57,7 @@
 void srandom(unsigned long seed);
 #endif
 
+#include <unistd.h>
 
 #ifdef __cplusplus
 }
