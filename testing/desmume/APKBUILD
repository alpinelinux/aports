# Maintainer: DÃ­az Urbaneja Diego <sodomon2@gmail.com>
pkgname=desmume
pkgver=9.12
pkgrel=0
pkgdesc="A Nintendo DS Emulator"
url="https://github.com/TASVideos/desmume/"
arch="x86_64"
license="GPL2"
depends="alsa-lib glu sdl gtk+2.0 libpcap"
makedepends="mesa alsa-lib-dev glu-dev sdl-dev libpcap-dev"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.zip::https://github.com/TASVideos/$pkgname/archive/master.zip"
builddir="$srcdir/$pkgname-master/desmume/src/frontend/posix"

prepare() {
	cd "$builddir"
	./autogen.sh
}

build() {
	cd "$builddir" 
  ./configure \
    --enable-wifi \
    --enable-glx \
    --prefix=/usr 
  make
}

check() {
	cd "$builddir"
  make check
}

package() {
	cd "$builddir"
  make DESTDIR="$pkgdir" install
}

sha512sums="a6f8dfb6cfcf1a01586d31ff52cc348c3ba74aee86a18309b0adc0c51abaa3e378153e739d30c1e3b9886b25d93b590160de8746494643b7030e32c80fb3e5b0  desmume-9.12.zip"
