# Maintainer: DÃ­az Urbaneja Diego <sodomon2@gmail.com>
pkgname=desmume
pkgver=9.12
pkgrel=0
pkgdesc="A Nintendo DS Emulator"
url="https://github.com/TASVideos/desmume/"
arch="x86_64"
license="GPL2"
depends="alsa-lib glu sdl gtk+2.0"
makedepends="mesa alsa-lib-dev glu-dev sdl-dev"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.zip::https://github.com/TASVideos/$pkgname/archive/master.zip"
builddir="$srcdir/$pkgname-master/$pkgname/src/frontend/posix"

prepare() {
cd "$builddir"
  ./autogen.sh
}

build() {
cd "$builddir" 
  ./configure \
    --enable-wifi \
    --enable-glx \
    --prefix=/usr 
  make
}

check() {
cd "$builddir"
  make check
}

package() {
cd "$builddir"
  make DESTDIR="$pkgdir" install
}
