# Automatically generated by apkbuild-cpan, template 1
# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=perl-number-format
_pkgreal=Number-Format
pkgver=1.73
pkgrel=1
pkgdesc="Perl extension for formatting numbers"
url="http://search.cpan.org/dist/Number-Format/"
arch="noarch"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="perl-test-simple"
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/W/WR/WRW/$_pkgreal-$pkgver.tar.gz"
options="!check"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

check() {
	cd "$_builddir"
	make test
}

md5sums="3a4188de6e84b04361def285b93dc240  Number-Format-1.73.tar.gz"
sha256sums="84a2b722ef21ab92bd09ee8de9ecf9969cd95a0655815e8c9b0720669986e46c  Number-Format-1.73.tar.gz"
sha512sums="52af1a595d9a62c9aabd57407c1807e71c7f2bfc591a835f73428848162fc0ab5aee7e78a8269304d44fceeb2654b8db40686eed8c6ff83e821b905905c75047  Number-Format-1.73.tar.gz"
