# Contributor: Guy Godfroy <guy.godfroy@gugod.fr>
# Maintainer: Guy Godfroy <guy.godfroy@gugod.fr>
pkgname=smile
pkgver=2.11.0
pkgrel=0
pkgdesc="Emoji picker with custom tags support and localization"
url="https://mijorus.it/projects/smile"
arch="noarch"
license="GPL-3.0-or-later"
depends="python3"
makedepends="meson python3 pango-dev glib-dev gtk4.0-dev desktop-file-utils"
source="$pkgname-$pkgver.tar.gz::https://github.com/mijorus/smile/archive/refs/tags/$pkgver.tar.gz"
subpackages="$pkgname-lang"

build() {
	abuild-meson \
		. output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
853b423951f9db3001571ba04d7da627a558f8372a4174b2c331917b5692563e819ec5fc504f7902834f825dff545438e88869be7a7b5150919c7585b32b129d  smile-2.11.0.tar.gz
"
