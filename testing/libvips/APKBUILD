# Contributor: Will Jordan <will.jordan@gmail.com>
# Maintainer: Will Jordan <will.jordan@gmail.com>
pkgname=libvips
pkgver=8.2.2
pkgrel=1
pkgdesc="A fast image processing library with low memory needs"
url="http://www.vips.ecs.soton.ac.uk/"
arch="all"
license="LGPL 2.1+"
depends="gettext libstdc++ glib libpng tiff libwebp libexif libxml2 orc fftw mozjpeg lcms2"
depends_dev="mozjpeg-dev libexif-dev lcms2-dev"
makedepends="$depends_dev glib-dev libxml2-dev orc-dev automake libtool libpng-dev tiff-dev libwebp-dev fftw-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://www.vips.ecs.soton.ac.uk/supported/current/vips-$pkgver.tar.gz"

_builddir="$srcdir"/vips-$pkgver
build() {
  cd "$_builddir"
  ./configure \
    --build=$CBUILD \
    --host=$CHOST \
    --prefix=/usr \
    --enable-debug=no \
    --without-python \
    --without-gsf \
    --disable-static \
    --mandir=/usr/share/man \
    --infodir=/usr/share/info \
    --docdir=/usr/share/doc \
    || return 1
  make || return 1
}

package() {
  cd "$_builddir"
  make DESTDIR="$pkgdir" install || return 1
}
md5sums="4a191bb801c4f97bce414a862f2fa8dc  vips-8.2.2.tar.gz"
sha256sums="0f688a34e99714ff0901cba8cdf93ec9878447e33dea122f4b226416550a6389  vips-8.2.2.tar.gz"
sha512sums="4a09a0f6042226a99eef964d2cc23a5092b81e6828e290b5d20e8a917022414c539f516d915c2bb17592a8ef99dec8b215fc52d3962d8c1f4ce44443ebbfea35  vips-8.2.2.tar.gz"
