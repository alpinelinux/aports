# Contributor: Will Jordan <will.jordan@gmail.com>
# Maintainer: Will Jordan <will.jordan@gmail.com>
pkgname=libvips
pkgver=8.2.3
pkgrel=1
pkgdesc="A fast image processing library with low memory needs"
url="http://www.vips.ecs.soton.ac.uk/"
arch="all"
license="LGPL 2.1+"
depends="gettext libstdc++ glib libpng tiff libwebp libexif libxml2 orc fftw mozjpeg lcms2"
depends_dev="mozjpeg-dev libexif-dev lcms2-dev"
makedepends="$depends_dev glib-dev libxml2-dev orc-dev automake libtool libpng-dev tiff-dev libwebp-dev fftw-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://www.vips.ecs.soton.ac.uk/supported/current/vips-$pkgver.tar.gz"

_builddir="$srcdir"/vips-$pkgver
build() {
  cd "$_builddir"
  ./configure \
    --build=$CBUILD \
    --host=$CHOST \
    --prefix=/usr \
    --enable-debug=no \
    --without-python \
    --without-gsf \
    --disable-static \
    --mandir=/usr/share/man \
    --infodir=/usr/share/info \
    --docdir=/usr/share/doc \
    || return 1
  make || return 1
}

package() {
  cd "$_builddir"
  make DESTDIR="$pkgdir" install || return 1
}
md5sums="4d0eac8cd62e16160b0bef5e61c94797  vips-8.2.3.tar.gz"
sha256sums="4bc986d496a0fe5e50e3c78e86b8f8dc445590a13b155be0f4b1d9432a51bfa2  vips-8.2.3.tar.gz"
sha512sums="e7d72e67fb706a71451bf0a80e6753916cd6a4a98ec36d92c8f187dc49d8884991b4047a8e96fa277a612f38db5e99fbe53e2e1e0a73fc8603e4f57e6fe2ffe8  vips-8.2.3.tar.gz"
