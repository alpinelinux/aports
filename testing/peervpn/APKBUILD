# Contributor: Markus Juenemann <markus@juenemann.net>
# Maintainer: Markus Juenemann <markus@juenemann.net>
pkgname=peervpn
pkgver=0.044
pkgrel=3
pkgdesc="PeerVPN builds virtual ethernet networks between multiple computers"
url="https://peervpn.net"
arch="all"
license="GPL-3.0"
depends="libressl zlib"
makedepends="$depends libressl-dev zlib-dev linux-headers"
install=""
subpackages=""
source="
        http://${pkgname}.net/files/${pkgname}-${pkgver//./-}.tar.gz
	peervpn.initd
	"

# peervpn has a strange versioning scheme.
builddir="$srcdir/$pkgname-${pkgver//./-}"

build() {

	cd "$builddir"
	make
}

package() {
	cd "$builddir"

	install -Dm755 $pkgname "$pkgdir"/usr/sbin/$pkgname

	install -Dm600 $pkgname.conf "$pkgdir"/etc/$pkgname.conf

	install -Dm755 ${srcdir}/$pkgname.initd "$pkgdir"/etc/init.d/$pkgname
}

sha512sums="7c9dcfd1822ef4d9c5954589b041f7165df93bb81a35fc8b741702aad738bd846718822bb47ba8ac0c23ece1c5f9170334a688c3670cc8bd199733e49aaf5067  peervpn-0-044.tar.gz
50b40a4139499d384d0826a7449b19cd3fbe5869841461cd97e8a125518c3744a1a8c70445656c1a60dae4e2e4e3eb2331bf6b687c8886cb0075ed8ab45310bc  peervpn.initd"
