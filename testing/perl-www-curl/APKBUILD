# Automatically generated by apkbuild-cpan, template 1
# Contributor: 
# Maintainer: 
pkgname=perl-www-curl
_pkgreal=WWW-Curl
pkgver=4.17
pkgrel=2
pkgdesc="Perl extension interface for libcurl"
url="http://search.cpan.org/dist/WWW-Curl/"
arch="all"
license="mit"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends curl-dev"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/S/SZ/SZBALINT/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="997ac81cd6b03b30b36f7cd930474845  WWW-Curl-4.17.tar.gz"
sha256sums="52ffab110e32348d775f241c973eb56f96b08eedbc110d77d257cdb0a24ab7ba  WWW-Curl-4.17.tar.gz"
sha512sums="bc7a75d0e23f5a77578fd7244b56a1e1b81d814993b90ac7132926f0d571232c4c95875bc615cb6239e424ae1d5481d27796efc5376bb0845d1da0ff1137c0d6  WWW-Curl-4.17.tar.gz"
