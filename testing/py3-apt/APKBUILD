# Maintainer: qaqland <qaq@qaq.land>
pkgname=py3-apt
pkgver=3.0.0
pkgrel=0
pkgdesc="a wrapper to use features of apt from python"
url="https://tracker.debian.org/pkg/python-apt"
arch="all"
license="GPL-2.0-or-later"
depends="
	apt
	dpkg-dev
	"
makedepends="
	apt-dev
	intltool
	musl-libintl
	py3-distutils-extra
	py3-setuptools
	python3-dev
	"
subpackages="$pkgname-pyc $pkgname-lang"
source="https://salsa.debian.org/apt-team/python-apt/-/archive/$pkgver/python-apt-$pkgver.tar.gz "
builddir="$srcdir/python-apt-$pkgver"
options="!check" # test needs debian

build() {
	python3 setup.py config
	python3 setup.py build
}

package() {
	python3 setup.py install --root "$pkgdir"

	rm -r "$pkgdir"/usr/share/python-apt
}

sha512sums="
307bc9ae5606931adef18373e0e68ac1a7a8e5915ac102d445e1ef1e26a5c38895e6b90defd66c093734482cfbe808251ef9b0dadf7c391f3eccaa6b4919041c  python-apt-3.0.0.tar.gz
"
