# Contributor: 7heo <7heo@mail.com>
# Maintainer: 7heo <7heo@mail.com>
pkgname=packer
pkgver=0.10.2
pkgrel=0
pkgdesc="Packer is a tool for creating identical machine images for multiple platforms from a single source configuration."
url="https://www.packer.io/"
arch="x86_64"
license="MPL 2.0"
depends=""
makedepends="go go-tools"
install=""
subpackages=""
source="${pkgname}-${pkgver}.tar.gz::https://github.com/mitchellh/$pkgname/archive/v$pkgver.tar.gz"

builddir="$srcdir"/$pkgname-$pkgver

build() {
	cd $srcdir
	export GOPATH="$startdir"

	mkdir -p github.com/mitchellh
	ln -s $builddir github.com/mitchellh/$pkgname

	cd github.com/mitchellh/$pkgname

	go build -o bin/packer .
}

package() {
	cd $builddir
	mkdir -p "$pkgdir"/usr/bin
	cp bin/packer "$pkgdir"/usr/bin/packer
}

md5sums="a917fc9f87334c5df89447d9427ea265  packer-0.10.2.tar.gz"
sha256sums="edf3a26feec328b18e151cdfb9687690a93b0abd595a92e29fafd59f4bbc7700  packer-0.10.2.tar.gz"
sha512sums="239e02bb64b7aa6d10821918f38c6ea9c6e138ccde103a1dae3f9298ce37f33b0c0c153d0f45b090769f9a5f01111e7ceb9722de0436dab2a9decb975c0a1ae7  packer-0.10.2.tar.gz"
