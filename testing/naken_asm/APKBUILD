# Contributor: Bryce Vandegrift <bryce@brycevandegrift.xyz>
# Maintainer: Bryce Vandegrift <bryce@brycevandegrift.xyz>
pkgname=naken_asm
pkgver=0_git20240726
_gitrev=b6e83f1976a5fa0b1a371bd4d6db935a386b95ef
pkgrel=0
pkgdesc="Lightweight assembler/disassembler with support for many CPUs"
url="https://www.mikekohn.net/micro/naken_asm.php"
arch="all"
license="GPL-3.0-or-later"
makedepends="bash readline-dev"
checkdepends="python3"
subpackages="$pkgname-dev"
source="https://github.com/mikeakohn/naken_asm/archive/$_gitrev/naken_asm-$_gitrev.tar.gz"
builddir="$srcdir/$pkgname-$_gitrev"

build() {
	./configure --prefix="$pkgdir/usr"
	make
}

check() {
	make tests
}

package() {
	make install
}

sha512sums="
d5c0810f263b788d1aaab47e80e716701048078e4b09b9bf5690b69b38e4ffb40b804e06b5db75b2ee94ffdf1c8233c54b97d48c928bfae6343a2786e3166d67  naken_asm-b6e83f1976a5fa0b1a371bd4d6db935a386b95ef.tar.gz
"
