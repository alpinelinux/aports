# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=kimchi
pkgver=2.3.0
pkgrel=0
pkgdesc="An HTML5 management interface for KVM "
url="https://kimchi-project.github.io"
arch="noarch"
license="APACHE LGPL2.1"
depends="python2 py-ipaddr py2-m2crypto py2-simplejson py-psutil 
py-imaging py2-libvirt py-cheetah py-ethtool py2-lxml py-websockify
py2-pillow qemu py2-configobj py2-six py2-paramiko py2-magic libvirt-daemon
wok gingerbase"
makedepends="automake autoconf libtool gettext-dev
python2-dev py-setuptools pyflakes libxslt py2-pip
py-pep8 py2-mock py-cherrypy pytest py2-requests 
grep bash bc"
subpackages="$pkgname-lang"
source="$pkgname-$pkgver.tar.gz::https://github.com/kimchi-project/$pkgname/archive/$pkgver.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	sh ./autogen.sh --system
	./configure \
		--prefix=/usr \
		--sysconfdir=/etc \
		--localstatedir=/var
	make || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

md5sums="7a6cb1ad338ec5d1eb1416075af76b6e  kimchi-2.3.0.tar.gz"
sha256sums="70dc110cacaf82b1662357fe0e8576796ac61b4991d9379ae174d9f5d7bb4bd1  kimchi-2.3.0.tar.gz"
sha512sums="092ab6ad93384f9822497d8c8b09bd4306cb1d3c11ca76be5ec5d91dc6a34bbb3507e45cae423894d94ae569cd00d18621fd0951fae0e36df3a64b2e44ae10ea  kimchi-2.3.0.tar.gz"
