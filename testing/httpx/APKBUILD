# Contributor: Jonas <spameier+alpine@proton.me>
# Maintainer: Jonas <spameier+alpine@proton.me>
pkgname=httpx
pkgver=1.8.0
pkgrel=0
pkgdesc="A fast and multi-purpose HTTP toolkit that allows running multiple probes."
url="https://docs.projectdiscovery.io/tools/httpx"
arch="all"
license="MIT"
makedepends="go"
subpackages="$pkgname-doc"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/projectdiscovery/httpx/archive/refs/tags/v$pkgver.tar.gz
	10-set-GOFLAGS.patch
	"
options="net"

build() {
	make build
}

check() {
	make test
}

package() {
	install -Dm755 "$builddir/httpx" -t "$pkgdir/usr/bin/"
	install -Dm644 LICENSE.md "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
d40e2409824feb313ee710fe08cd1ee830dcebf492f79dacda4606a6aadad66126771bbcb79074ab71b270272ab2b970991de15cd4b9908149ae34eadc8ea375  httpx-1.8.0.tar.gz
d4fef15d8ac731d2b0c7796527ace43f34bb15f1dfaa107e078f6a8074fcd3bf2e831e9610280215a3bfe8bfb7846a056655d4be157a4d41e9b4af2c9d564d53  10-set-GOFLAGS.patch
"
