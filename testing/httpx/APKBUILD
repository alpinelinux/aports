# Contributor: Jonas <spameier+alpine@proton.me>
# Maintainer: Jonas <spameier+alpine@proton.me>
pkgname=httpx
pkgver=1.8.1
pkgrel=1
pkgdesc="A fast and multi-purpose HTTP toolkit that allows running multiple probes."
url="https://docs.projectdiscovery.io/tools/httpx"
arch="all"
license="MIT"
makedepends="go"
subpackages="$pkgname-doc"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/projectdiscovery/httpx/archive/refs/tags/v$pkgver.tar.gz
	10-set-GOFLAGS.patch
	"
options="net"

build() {
	make build
}

check() {
	make test
}

package() {
	install -Dm755 "$builddir/httpx" -t "$pkgdir/usr/bin/"
	install -Dm644 LICENSE.md "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
c2360a839284f722b91b33376ea9bcc48f1a5f372bb1070bcdec92d882bab03ac98af39dcf40cbf21c3b6430ae41315756a0363e893403ad63cbf77557c163a8  httpx-1.8.1.tar.gz
d4fef15d8ac731d2b0c7796527ace43f34bb15f1dfaa107e078f6a8074fcd3bf2e831e9610280215a3bfe8bfb7846a056655d4be157a4d41e9b4af2c9d564d53  10-set-GOFLAGS.patch
"
