# Contributor: Jonas <spameier+alpine@proton.me>
# Maintainer: Jonas <spameier+alpine@proton.me>
pkgname=httpx
pkgver=1.7.4
pkgrel=0
pkgdesc="A fast and multi-purpose HTTP toolkit that allows running multiple probes."
url="https://docs.projectdiscovery.io/tools/httpx"
arch="all"
license="MIT"
makedepends="go"
subpackages="$pkgname-doc"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/projectdiscovery/httpx/archive/refs/tags/v$pkgver.tar.gz
	10-set-GOFLAGS.patch
	"
options="net"

build() {
	make build
}

check() {
	make test
}

package() {
	install -Dm755 "$builddir/httpx" -t "$pkgdir/usr/bin/"
	install -Dm644 LICENSE.md "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
ced8e7682679db432c1a5c43d532c1b2ac74a5db76b71cf4b2d9ff1442ba87c275851d935265da9f8477749e196e9a31ca9c826b6756cb0d25bf0d4b42ca3624  httpx-1.7.4.tar.gz
d4fef15d8ac731d2b0c7796527ace43f34bb15f1dfaa107e078f6a8074fcd3bf2e831e9610280215a3bfe8bfb7846a056655d4be157a4d41e9b4af2c9d564d53  10-set-GOFLAGS.patch
"
