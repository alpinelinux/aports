# Contributor: Jonas <spameier+alpine@proton.me>
# Maintainer: Jonas <spameier+alpine@proton.me>
pkgname=httpx
pkgver=1.7.2
pkgrel=0
pkgdesc="A fast and multi-purpose HTTP toolkit that allows running multiple probes."
url="https://docs.projectdiscovery.io/tools/httpx"
arch="all"
license="MIT"
makedepends="go"
subpackages="$pkgname-doc"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/projectdiscovery/httpx/archive/refs/tags/v$pkgver.tar.gz
	10-set-GOFLAGS.patch
	"
options="net"

build() {
	make build
}

check() {
	make test
}

package() {
	install -Dm755 "$builddir/httpx" -t "$pkgdir/usr/bin/"
	install -Dm644 LICENSE.md "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
36f06563ca358f23b76c45130afd32d3f2b8e509bc8f4b83b0ea3fec99a3b63976b9622fd250200bcc18166d53df199401eb3f89f7ae12520d7691ae8d3cba69  httpx-1.7.2.tar.gz
d4fef15d8ac731d2b0c7796527ace43f34bb15f1dfaa107e078f6a8074fcd3bf2e831e9610280215a3bfe8bfb7846a056655d4be157a4d41e9b4af2c9d564d53  10-set-GOFLAGS.patch
"
