# Contributor: Orson Teodoro <orsonteodoro@hotmail.com>
# Maintainer: Orson Teodoro <orsonteodoro@hotmail.com>

pkgname=gnome-calculator
pkgver=3.26.0
pkgrel=0
pkgdesc="Calculator solves mathematical equations and is suitable as a default \
application in a Desktop environment."
url="https://wiki.gnome.org/Apps/Calculator"
makedepends="autoconf automake libtool mpfr-dev mpc1-dev glib-dev \
		gtksourceview-dev libxml2-dev libsoup-dev itstool libxml2-utils"
source="https://download.gnome.org/sources/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.xz
	CC-BY-SA-3.0
	GFDL-1.1-or-later"
subpackages="$pkgname-doc $pkgname-lang"
arch="all"
license="GPL-3.0-or-later CC-BY-SA-3.0 GFDL-1.1-or-later"
builddir="$srcdir/$pkgname-$pkgver"

prepare() {
	default_prepare
	cd "$builddir"
	autoreconf -i
	automake --foreign -Wall
}

build() {
	cd "$builddir"
	./configure --prefix=/usr
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
	install -d "$pkgdir"/usr/share/doc/$pkgname
	install -t "$pkgdir"/usr/share/doc/$pkgname NEWS \
		"$srcdir"/CC-BY-SA-3.0 "$srcdir"/GFDL-1.1-or-later
}

check() {
	cd "$builddir"
	make check
}

sha512sums="fbcf387bfc2e1e33f2b52badd702d8a6701121f71eb10bb88f475d10673964fd6e780808ea41e1061f102be2ed05c79d2a65e898d8eba59432d3d88464719ebb  gnome-calculator-3.26.0.tar.xz
f18bd4c1924fc7e9da0db39528409875dd673e163e42e4bc7d8d4810f35191fc0761760a1dabdabaaead437d1221504fe9f40b5d6a1a7cb0f4111de3a4208015  CC-BY-SA-3.0
616aca560b008bee8a4766e7084906a184aad7680fbca81a7159b3f3a1ed3a505ed57d6d6f633f39bdd58faab99ee79e3ab32d7854ca5d7d9c09a11aab59773a  GFDL-1.1-or-later"
