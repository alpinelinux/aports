# Maintainer: Andr√© Klitzing <aklitzing@gmail.com>
pkgname=watchman
pkgver=4.9.0
pkgrel=0
pkgdesc="A file watching service"
url="https://facebook.github.io/watchman/"
arch="all"
license="Apache-2"
makedepends="pcre-dev libressl-dev linux-headers file
             bash autoconf automake libtool"
source="$pkgname-$pkgver.tar.gz::https://github.com/facebook/watchman/archive/v$pkgver.tar.gz"
builddir="$srcdir/"$pkgname-$pkgver

build() {
	cd "$builddir"
	./autogen.sh
	./configure --prefix= --exec-prefix=/usr
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR=$pkgdir install-binPROGRAMS
}

sha512sums="f25b77f73bca3e25a0254a98af5c8125b8a31133ec3702cac656459f3522d5f0bf2e96d5893ca9fb5ce3ae18adce58224746bd8ca9afc5c312bcd697cb5b2d5d  watchman-4.9.0.tar.gz"
