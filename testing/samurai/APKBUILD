# Contributor: TBK <alpine@jjtc.eu>
# Maintainer: TBK <alpine@jjtc.eu>
pkgname=samurai
pkgver=0.3
pkgrel=0
pkgdesc="Ninja-compatible build tool written in C99 with focus on simplicity, speed and portability."
url="https://github.com/michaelforney/samurai"
arch="all"
license="Apache-2.0 MIT"
options="!check" # No test suite
replaces="ninja"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/michaelforney/samurai/archive/$pkgver.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" PREFIX=/usr install
	ln -s /usr/bin/samu $pkgdir/usr/bin/ninja
}

sha512sums="49de7677cc36e79e6560ebc081ef7b664bc962e1b41a165e70af0079b0ffcbf43babd288c35fbf04117f3990d19513d30ad8a79d055c8de5d129b7047aaf50d4  samurai-0.3.tar.gz"
