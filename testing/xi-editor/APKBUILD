# Contributor: Leo <thinkabit.ukim@gmail.com>
# Maintainer: Leo <thinkabit.ukim@gmail.com>
pkgname=xi-editor
pkgver=0.2.0
pkgrel=0
pkgdesc="Modern editor with a rust backend"
url="https://github.com/xi-editor/xi-editor"
arch="x86_64" # Limited by Cargo
license="Apache-2.0"
makedepends="cargo"
source="$pkgname-$pkgver.tar.gz::https://github.com/xi-editor/xi-editor/archive/v${pkgver}.tar.gz"
builddir="$srcdir/$pkgname-$pkgver/rust"

build() {
	cargo build --release --verbose
}

check() {
	cargo test all --release --verbose
}

package() {
	cargo install --path . --root="$pkgdir"/usr
	rm "$pkgdir"/usr/.crates.toml
}

sha512sums="2258444e44b43275aa252d8e26aafe482410e7da9287032ffbc3567d0bff7f96847a1e246ea14491d947aa1bbbd2e8a9f7ef77a3e8ad8739f4afe572bea2101d  xi-editor-0.2.0.tar.gz"
