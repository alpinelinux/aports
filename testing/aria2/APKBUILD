# Contributor:
# Maintainer: Magicloud <magiclouds@gmail.com>
pkgname=aria2
pkgver=1.34.0
pkgrel=0
pkgdesc="aria2 is a lightweight multi-protocol & multi-source, cross platform download utility operated in command-line."
url="https://aria2.github.io/"
arch="all"
license="OpenSSL"
makedepends="gnutls-dev libxml2-dev sqlite-dev c-ares-dev ca-certificates libssh2-dev make gcc"
checkdepends="cppunit-dev"
depends="gnutls libxml2 sqlite c-ares ca-certificates libssh2"
source="$pkgname-$pkgver.tar.xz::https://github.com/aria2/aria2/releases/download/release-$pkgver/$pkgname-$pkgver.tar.xz"

build() {
	cd "$builddir"
	./configure --prefix=/usr
	make -j
}

check() {
	cd "$builddir"
	make check
}

prepare_subpackages () {
	true
}

package() {
	cd $builddir
	make DESTDIR="$pkgdir" install
	cd $pkgdir
	rm -rf usr/share usr/include usr/lib/pkgconfig
}
sha512sums="80bc43e242c06acc95030021cb347b4ec230729f3d7e512ca1932941b34ef95c312a34007a226869e5d720839a400e66cdb072ccab5d42228d8cf3d828723dcc  aria2-1.34.0.tar.xz"
