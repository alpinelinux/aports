diff --git a/src/openrct2/common.h b/src/openrct2/common.h
index 4260e3149..ae3cf2c1f 100644
--- a/src/openrct2/common.h
+++ b/src/openrct2/common.h
@@ -79,11 +79,9 @@ using colour_t = uint8_t;
 
 #endif // defined(__unix__) || (defined(__APPLE__) && defined(__MACH__))
 
-#if !(                                                                                                                         \
-    (defined(_POSIX_C_SOURCE) && _POSIX_C_SOURCE >= 200809L) || (defined(_XOPEN_SOURCE) && _XOPEN_SOURCE >= 700)               \
-    || (defined(__APPLE__) && defined(__MACH__)) || defined(__ANDROID_API__) || defined(__FreeBSD__))
+#ifdef _WIN32
 char* strndup(const char* src, size_t size);
-#endif // !(POSIX_C_SOURCE >= 200809L || _XOPEN_SOURCE >= 700)
+#endif // _WIN32
 
 // BSD and macOS have MAP_ANON instead of MAP_ANONYMOUS
 #ifndef MAP_ANONYMOUS
diff --git a/src/openrct2/platform/Shared.cpp b/src/openrct2/platform/Shared.cpp
index b5127a5a6..aa8ffb480 100644
--- a/src/openrct2/platform/Shared.cpp
+++ b/src/openrct2/platform/Shared.cpp
@@ -43,9 +43,7 @@
 static mach_timebase_info_data_t _mach_base_info = {};
 #endif
 
-#if !(                                                                                                                         \
-    (defined(_POSIX_C_SOURCE) && _POSIX_C_SOURCE >= 200809L) || (defined(_XOPEN_SOURCE) && _XOPEN_SOURCE >= 700)               \
-    || (defined(__APPLE__) && defined(__MACH__)))
+#ifdef _WIN32
 char* strndup(const char* src, size_t size)
 {
     size_t len = strnlen(src, size);
@@ -60,8 +58,7 @@ char* strndup(const char* src, size_t size)
     dst[len] = '\0';
     return dst;
 }
-#endif // !((defined (_POSIX_C_SOURCE) && _POSIX_C_SOURCE >= 200809L) || (defined(_XOPEN_SOURCE) && _XOPEN_SOURCE >= 700) ||
-       // (defined(__APPLE__) && defined(__MACH__)))
+#endif //_WIN32 
 
 #ifdef _WIN32
 static uint32_t _frequency = 0;
