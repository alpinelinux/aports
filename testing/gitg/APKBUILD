# Contributor: Kiyoshi Aman <kiyoshi.aman@gmail.com>
# Maintainer: Kiyoshi Aman <kiyoshi.aman@gmail.com>
pkgname=gitg
pkgver=3.26.0
pkgrel=0
pkgdesc="GTK-based application for working with git."
url="https://wiki.gnome.org/Apps/Gitg"
arch="all"
license="GPL2+"
depends="gtk+3.0 glib libgit2 libgee libsoup libsecret gsettings-desktop-schemas gobject-introspection libgit2-glib gtksourceview3 libpeas gtkspell3"
depends_dev="libgit2-dev libgee-dev libsoup-dev libsecret-dev gsettings-desktop-schemas gobject-introspection-dev libgit2-glib-dev gtksourceview3-dev libpeas-dev gtkspell3-dev"
makedepends="intltool gtk+3.0-dev glib-dev libxml2-utils $depends_dev"
subpackages="$pkgname-dev $pkgname-doc $pkgname-lang"
source="http://ftp.gnome.org/pub/GNOME/sources/$pkgname/3.26/$pkgname-$pkgver.tar.xz"
builddir="$srcdir/gitg-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="782aa02e2f0f4d8c86ad726045502d545877d835f0449d2ec646d93a78bbfa50f84662d3a437c922eb168b2737c00ec088dc2c73487742f332e3910f041b519d  gitg-3.26.0.tar.xz"
