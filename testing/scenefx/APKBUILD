# Maintainer: omni <omni+alpine@hack.org>
maintainer="omni <omni+alpine@hack.org>"
pkgname=scenefx
pkgver=0.4.1
pkgrel=0
pkgdesc="A drop-in replacement for the wlroots scene API with eye-candy effects"
arch="all"
url="https://github.com/wlrfx/scenefx"
license="MIT"
subpackages="$pkgname-dev $pkgname-doc"
makedepends="libxkbcommon-dev
	glslang
	muon
	pkgconf
	samurai
	wlroots-dev
	wayland-protocols
	"
options="!check" # No tests
source="$pkgname-$pkgver.tar.gz::https://github.com/wlrfx/scenefx/archive/refs/tags/$pkgver.tar.gz"

build() {
	abuild-muon \
		-Dauto_features=enabled \
		-Dexamples=false \
		output .
	ninja -C output
}

package() {
	DESTDIR="$pkgdir" muon -C output install

	install -Dm644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
e56d35fe8c1d3a31623aa62177957460592ac90dfcbc100539dd45d6aec51cc55cf0930f8b66e3c1d48b2380bf84245497ba204bc2e94da1da6a7399b0d14cfd  scenefx-0.4.1.tar.gz
"
