# Contributor: ScrumpyJack <scrumpyjack@st.ilet.to>
# Maintainer: ScrumpyJack <scrumpyjack@st.ilet.to>
pkgname=acme-client
pkgver=0.1.15
_ver=${pkgver//./_}
pkgrel=0
pkgdesc="An ACME client for Let's Encrypt written in C"
url="https://github.com/kristapsdz/acme-client-portable"
arch="all"
license="ISC"
depends=""
makedepends="bsd-compat-headers libressl-dev"
install=""
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/kristapsdz/acme-client-portable/archive/VERSION_$_ver.tar.gz
	"

builddir="$srcdir/acme-client-portable-VERSION_$_ver"

build() {
	cd "$builddir"
	make PREFIX=/usr || return 1
}

package() {
	cd "$builddir"
	make DESTDIR=$pkgdir PREFIX=/usr MAN1DIR=/usr/share/man/man1 install \
		|| return 1
}

md5sums="a4a84688c8e8700f60a2e5379cd0af48  acme-client-0.1.15.tar.gz"
sha256sums="05d60ef179fa26a4f7026dfb086a267274016438787f6c72135bedfded3e44b7  acme-client-0.1.15.tar.gz"
sha512sums="3d78dc152aceaf1712f2deb19923a1b998b1f93cf86b4e0c1918abcd01e074318ee4874dec17aadf07cdfbd4ab266c4985608aecfddbbd785314e96a147d84eb  acme-client-0.1.15.tar.gz"
