# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=kubernetes
pkgver=1.5.1
pkgrel=0
pkgdesc="Container Cluster Manager for Docker"
url="http://kubernetes.io/"
arch="x86_64"
license="APACHE"
depends="bash"
makedepends="go rsync bash linux-headers grep findutils coreutils"
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://github.com/$pkgname/$pkgname/archive/v$pkgver.tar.gz"
builddir="$srcdir"/$pkgname-$pkgver

build() {
	cd "$builddir"
	make	
}

package() {
	cd "$builddir"
	binaries="kube-apiserver kube-controller-manager kube-scheduler kube-proxy kubelet kubectl kubemark hyperkube"
	for bin in $binaries ; do
    	install -Dm755 _output/local/bin/linux/amd64/$bin $pkgdir/usr/bin/$bin
    done
	install -d $pkgdir/var/lib/kubelet
}

md5sums="bbac1e628ac4459a789b5c55ef08798d  kubernetes-1.5.1.tar.gz"
sha256sums="629f73b8519157e863df9cf2e724c188ceff842aeafa9953727460707f615d85  kubernetes-1.5.1.tar.gz"
sha512sums="ca86004b82d6e461e264b95b9f0eff0f0e912bae9c1075ac7b940b7b4f7a70e3d19f726d4b66c7e2aa140fd21c86d68bda32002593c31c82f158a26e4569120b  kubernetes-1.5.1.tar.gz"
