# Contributor: Saijin-Naib <Saijin-Naib_package-maintenance@outlook.com>
# Maintainer: Saijin-Naib <Saijin-Naib_package-maintenance@outlook.com>
pkgname=xfce4-windowck-plugin
pkgver=0.6.1
pkgrel=0
pkgdesc="Plugin to put buttons, title and menu of windows on the panel"
url="https://docs.xfce.org/panel-plugins/xfce4-windowck-plugin"
arch="all"
license="GPL-3.0-only"
makedepends="
	cmake
	glib-dev
	gtk+3.0-dev
	libwnck3-dev
	meson
	xfce4-panel-dev
"
subpackages="$pkgname-lang"
source="https://gitlab.xfce.org/panel-plugins/xfce4-windowck-plugin/-/archive/xfce4-windowck-plugin-$pkgver/xfce4-windowck-plugin-xfce4-windowck-plugin-$pkgver.tar.gz"
builddir="$srcdir/$pkgname-$pkgname-$pkgver"
options="!check" # No upstream testsuite defined

build() {
	abuild-meson \
		output .
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
1eb5c10d4ed1744a3c539ba374d8f3dfaa670ed4a54d611ff83c76621f2cb577e467cc869e68735a5ca3b91df800a6583bb3b75a5ce975adcd25a27a6cbc9a3d  xfce4-windowck-plugin-xfce4-windowck-plugin-0.6.1.tar.gz
"
