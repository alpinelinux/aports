From 8611555d0e7339f48fccc7e62e690ee3a74a0d12 Mon Sep 17 00:00:00 2001
From: Michael Richardson <mcr@sandelman.ca>
Date: Fri, 18 Jan 2019 23:41:57 -0500
Subject: [PATCH 7/9] upgrade to proper include file, and sighandler type

---
 programs/pluto/sysdep_linux.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/programs/pluto/sysdep_linux.c b/programs/pluto/sysdep_linux.c
index 5416a323e..8a0d36f2c 100644
--- a/programs/pluto/sysdep_linux.c
+++ b/programs/pluto/sysdep_linux.c
@@ -17,12 +17,13 @@
  * for more details.
  */
 
+#define _GNU_SOURCE   /* for sighandler_t */
 #include <stddef.h>
 #include <string.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <errno.h>
-#include <wait.h>
+#include <sys/wait.h>
 #include <unistd.h>
 #include <fcntl.h>
 #include <sys/ioctl.h>
@@ -134,7 +135,7 @@ bool invoke_command(const char *verb, const char *verb_suffix, char *cmd)
          * Any used by library routines (perhaps the resolver or syslog)
          * will remain.
          */
-	__sighandler_t savesig;
+        sighandler_t savesig;
         FILE *f;
 
 	savesig = signal(SIGCHLD, SIG_DFL);
-- 
2.11.0

