# Contributor: Stuart Cardall <developer@it-offshore.co.uk>
# Maintainer: Stuart Cardall <developer@it-offshore.co.uk>
pkgname=geoip-database
pkgver=20170714
pkgrel=0
pkgdesc="GeoIP library (legacy country databases)"
url="http://maxmind.com"
arch="noarch"
license="CC-4.0"
depends=""
options="!check"

snapshot() {
	local x= urls="
		http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz
		http://geolite.maxmind.com/download/geoip/database/GeoIPv6.dat.gz
		"

	cd $srcdir
	for x in $urls; do
		curl -O $x
	done
}

prepare() {
	snapshot
	gunzip "$srcdir"/*.gz
}

package() {
	cd "$srcdir"
	install -Dm644 GeoIP.dat "$pkgdir"/usr/share/GeoIP/GeoIP.dat
	install -m644 GeoIPv6.dat "$pkgdir"/usr/share/GeoIP/
}
