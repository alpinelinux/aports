# Contributor: dai9ah <dai9ah@protonmail.com>
# Maintainer: dai9ah <dai9ah@protonmail.com>
pkgname=bfs
pkgver=1.2.2
pkgrel=1
pkgdesc="Breadth-first variant of the UNIX find command"
url="https://github.com/tavianator/bfs"
arch="all !ppc64le"
license="0BSD"
makedepends="linux-headers"
checkdepends="bash"
subpackages="$pkgname-doc"
options="!checkroot"
source="$pkgname-$pkgver.tar.gz::https://github.com/tavianator/$pkgname/archive/$pkgver.tar.gz
	adj_large_pagesz.patch"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="ec78687b1c3d62e1f625b18d2f668f91663425db634cbb540c0e06b279702d1b9ffb88eddb35db229839ba85eac788416f059a65887a313409d6c3be281bb331  bfs-1.2.2.tar.gz
241d153ec97e2d1803ddafdf8cf66a5f83038e2b91b018a2be5bc10267a7f59436e5b6cd3abb7752dc3c15b779336cf51a8e617d9d3d1d13579bf2422a38f368  adj_large_pagesz.patch"
