--- a/exec.c
+++ b/exec.c
@@ -95,6 +95,10 @@
 	long page_size = sysconf(_SC_PAGESIZE);
 	if (page_size < 4096) {
 		page_size = 4096;
+	} else {
+		if (page_size > (BFS_EXEC_ARG_MAX/1024)) {
+			page_size = BFS_EXEC_ARG_MAX/1024;
+		}
 	}
 	arg_max -= 2*page_size;
 	bfs_exec_debug(execbuf, "ARG_MAX: %ld remaining after headroom\n", arg_max);
