# Contributor: William Pitcock <nenolod@dereferenced.org>
# Contributor: Stefan Wagner <stw@bit-strickerei.de>
# Maintainer: William Pitcock <nenolod@dereferenced.org>
pkgname=py3-weasyprint
_pkgname=WeasyPrint
pkgver=43
pkgrel=0
pkgdesc="cairo-based HTML renderer for python"
url="http://weasyprint.org"
arch="noarch"
license="LGPL"
depends="pango
	cairo
	py3-cairocffi
	py3-cairosvg
	py3-cssselect2
	py3-html5lib
	py3-tinycss2
	py3-pyphen"
makedepends="python3-dev py-setuptools"
checkdepends="pytest-cov ttf-dejavu"
source="https://files.pythonhosted.org/packages/source/${_pkgname:0:1}/$_pkgname/$_pkgname-$pkgver.tar.gz
	disable-styling-checks.patch"
builddir="$srcdir"/$_pkgname-$pkgver

build() {
	cd "$builddir"
	python3 setup.py build
}

check() {
	cd "$builddir"
	python3 setup.py test
}

package() {
	cd "$builddir"
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="fc4c4decb298d4f9caf244433566c9b675b23db2508093d8c43c6e361119c5fe8298213075f550bebc72fe4156cfc516f04c8d7a2c6215fcd5add14360821f40  WeasyPrint-43.tar.gz
c5dd3279b01c3a6e58c41fbda17abbfe195d0f1112fd604f80c437b4cc3468ee97083b58f4454d769559eacce75f4b20675715d73b784f71f8bb4f31a2d031ea  disable-styling-checks.patch"
