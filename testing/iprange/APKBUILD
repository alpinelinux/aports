# Contributor: Jonny Tyers <jtyers@gmail.com>
# Maintainer: Jonny Tyers <jtyers@gmail.com>
pkgname=iprange
pkgver=1.0.3
pkgrel=0
pkgdesc="iprange tool that supports firehol"
url="http://www.firehol.org/"
arch="all"
license="GPL2"
depends=""
depends_dev=""
makedepends="$depends_dev"
install=""
subpackages="$pkgname-doc"
source="https://firehol.org/download/iprange/releases/v1.0.3/iprange-1.0.3.tar.bz2"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"

	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc/ssh \
		--datadir=/usr/share/openssh \
		--libexecdir=/usr/lib/ssh \
		--mandir=/usr/share/man \
		|| return 1 
	make || return 1 
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

#doc() {
#	# man pages
#	mkdir -p "$subpkgdir"/usr/share/man || return 1
#	mv "$pkgdir"/usr/share/man/man* "$subpkgdir"/usr/share/man/ || return 1
#}

md5sums="29f9b86f28932079da9ca7e34fd2c5df  iprange-1.0.3.tar.bz2"
sha256sums="b5dd9c4dbf6173c3d70b814561db480a97570688ae9111a7b3d1f8e4ba32cdcc  iprange-1.0.3.tar.bz2"
sha512sums="c3da3b0f070010e53d2caa53cf0f11d5a8691ead418f2549c837a287cc8cbd023f36fa85eb7740ddc5df5339f103107cf3be02f6ee1489e160cba10692f9e0e1  iprange-1.0.3.tar.bz2"
