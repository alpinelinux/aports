# Automatically generated by apkbuild-cpan, template 1
# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=perl-html-tableextract
_pkgreal=HTML-TableExtract
pkgver=2.15
pkgrel=3
pkgdesc="Perl module for extracting the content contained in tables within an HTML document"
url="https://metacpan.org/release/HTML-TableExtract/"
arch="noarch"
license="GPL PerlArtistic"
depends="perl perl-html-parser"
subpackages="$pkgname-doc"
source="https://cpan.metacpan.org/authors/id/M/MS/MSISK/$_pkgreal-$pkgver.tar.gz"

builddir="$srcdir/$_pkgreal-$pkgver"

check() {
	cd "$builddir"
	make test
}

prepare() {
	cd "$builddir"
	default_prepare
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

sha512sums="54fe445bd4bfc55d244ba6ba9888ea556b1a93b384be1f935ae3e93dc6d9e07167fa0fa07365d7fbc89e0a4924a40ea10fdc63d2ebf55f8d5f0d2ed90848a607  HTML-TableExtract-2.15.tar.gz"
