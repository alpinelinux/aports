# Contributor: Will Jordan <will.jordan@gmail.com>
# Maintainer: Will Jordan <will.jordan@gmail.com>
pkgname=node-sharp
pkgver=0.14.0
pkgrel=0
pkgdesc="High performance Node.js module to resize JPEG, PNG, WebP and TIFF images using the libvips library"
url="http://sharp.dimens.io/"
arch="all"
license="ASL 2.0"
depends="libvips nodejs"
depends_dev="libvips-dev libc-dev"
makedepends="$depends_dev make python gcc g++"
install=""
source="http://registry.npmjs.org/sharp/-/sharp-$pkgver.tgz"

_builddir="$srcdir"/package
build() {
        npm install --prefix "$_builddir"/build/usr -g "$_builddir" || return 1
}

package() {
        mkdir -p "$pkgdir"
        cp -a "$_builddir"/build/usr "$pkgdir"
}

md5sums="0157594e92b8138c080b8d88e8355150  sharp-0.14.0.tgz"
sha256sums="3fcb2e50939118427343a9732e98e8220577197da1ba9e685c07024d481045ec  sharp-0.14.0.tgz"
sha512sums="6c3264a8f03af070c37153b2a5bd24dffd94bbb1bf2ee0b6c779ac62fae619ef2c49384531e92f7ac758185a8834c467f0d8c80454f2c13389b03cf40893580a  sharp-0.14.0.tgz"
