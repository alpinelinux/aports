# Contributor: Will Jordan <will.jordan@gmail.com>
# Maintainer: Will Jordan <will.jordan@gmail.com>
pkgname=node-sharp
pkgver=0.12.2
pkgrel=0
pkgdesc="High performance Node.js module to resize JPEG, PNG, WebP and TIFF images using the libvips library"
url="http://sharp.dimens.io/"
arch="all"
license="ASL 2.0"
depends="libvips nodejs"
depends_dev="libvips-dev libc-dev"
makedepends="$depends_dev make python gcc g++"
install=""
source="http://registry.npmjs.org/sharp/-/sharp-$pkgver.tgz"

_builddir="$srcdir"/package
build() {
        npm install --prefix "$_builddir"/build/usr -g "$_builddir" || return 1
}

package() {
        mkdir -p "$pkgdir"
        cp -a "$_builddir"/build/usr "$pkgdir"
}

md5sums="e891b7d4504cebe7e14ccd91c00e694d  sharp-0.12.2.tgz"
sha256sums="3219f133c30474d4963eb6a1d5d65f0a055ce7524fb4f8b7f421d0a7835c2aeb  sharp-0.12.2.tgz"
sha512sums="6858bc77a0f154a733e62b5b1ddc09f97af14ad4a11404b555ea51ddbc6632090aed18246bea056a8b97a4f66eabba8b99feebd3a4466c5e32a6d75127e9e65d  sharp-0.12.2.tgz"
