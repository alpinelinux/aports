# Maintainer: George Hopkins <george-hopkins@null.net>
pkgname=zurl
pkgver=1.9.1
pkgrel=0
pkgdesc="HTTP and WebSocket client daemon with a ZeroMQ interface"
url="https://github.com/fanout/zurl"
arch="all"
license="GPL-3.0-or-later"
depends=""
makedepends="curl-dev qt5-qtbase-dev zeromq-dev"
install=""
subpackages=""
source="https://dl.bintray.com/fanout/source/$pkgname-$pkgver.tar.bz2
	relax-tests.patch"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure --prefix=/usr
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make INSTALL_ROOT="$pkgdir" install
	install -D zurl.conf.example "$pkgdir"/etc/zurl.conf
}

sha512sums="48c1b88105741d982933af384be74d0459cb6446b483a43973cc9a3912ec353437611cd7fb75a2ff461a58fb6e9e57f4dc4dac2c5488f5b1f0c67a8df630023e  zurl-1.9.1.tar.bz2
97caa1d5ae917f818e37dd24622baafa27aef5d0a7e1ae73b58bc70189568905d78adaa348d8e0b930805a40c3802e35f47d09f859529df647085fcf00cbeba0  relax-tests.patch"
