# Contributor: Mizuki Arisu <mizukiarisu@waifu.club>
# Maintainer:
pkgname=liferea
pkgver=1.12.1
pkgrel=0
pkgdesc="A desktop news aggregator for online news feeds and weblogs"
url="https://lzone.de/liferea/"
arch="all"
license="GPL"
depends="gsettings-desktop-schemas libpeas-python3 gst-plugins-base 
	gst-plugins-good gst-libav"
makedepends="intltool pkgconf gtk+3.0-dev
	glib-dev pango-dev libxml2-dev libxslt-dev 
	sqlite-dev libsoup-dev webkit2gtk-dev json-glib-dev
	gobject-introspection-dev gsettings-desktop-schemas-dev libpeas-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc $pkgname-lang"
source="https://github.com/lwindolf/liferea/releases/download/v$pkgver/$pkgname-$pkgver.tar.bz2"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--prefix=/usr \
		--sysconfdir=/etc \
		--localstatedir=/var \
		--disable-schemas-compile
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="d3e53127f62e91b23aa042ae6dc655eb174f2823320cc01c4cb2b9074f6547ae9a34f6daeb0c1dfb37dfb9f85890ab67223a863f2679ad15a5c7c7f3840d711a  liferea-1.12.1.tar.bz2"
