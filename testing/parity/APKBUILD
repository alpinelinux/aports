# Contributor: André Klitzing <aklitzing@gmail.com>
# Maintainer: André Klitzing <aklitzing@gmail.com>
pkgname=parity
pkgver=1.7.2
pkgrel=0
pkgdesc="Fast, light, robust Ethereum implementation"
url="https://parity.io/"
arch="x86_64" # limited by cargo pkg
license="GPL3"
makedepends="cargo libressl-dev"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/paritytech/$pkgname/archive/v$pkgver.tar.gz"
builddir="$srcdir/"$pkgname-$pkgver

build() {
	cd "$builddir"
	cargo build --features final --release
}

check() {
	cd "$builddir"
	cargo test
}

package() {
	cd "$builddir"
	install -Dm755 -t "${pkgdir}"/usr/bin target/release/parity
	install -D -m644 LICENSE.txt "$pkgdir/usr/share/doc/$pkgname/LICENSE"
}


sha512sums="5f5352677a76a41b8abd86b561330bd457ba585417ca7e87fb4af412347dce92381a086d1a58b76bb2f0ced8277e779fcae819d232a672e6f10ed636dd96822e  parity-1.7.2.tar.gz"
