--- a/src/utils/npu/amd.rs
+++ b/src/utils/npu/amd.rs
@@ -17,11 +17,11 @@ const DRM_AMDXDNA_QUERY_CLOCK_METADATA: u32 = 3;
 const IOC_WRITE: u32 = 1;
 const IOC_READ: u32 = 2;
 
-const fn ioc(dir: u32, ty: u8, nr: u8, size: usize) -> libc::c_ulong {
-    ((dir << 30) | ((ty as u32) << 8) | (nr as u32) | ((size as u32) << 16)) as libc::c_ulong
+const fn ioc(dir: u32, ty: u8, nr: u8, size: usize) -> i32 {
+    ((dir << 30) | ((ty as u32) << 8) | (nr as u32) | ((size as u32) << 16)) as i32
 }
 
-const fn iowr<T>(ty: u8, nr: u8) -> libc::c_ulong {
+const fn iowr<T>(ty: u8, nr: u8) -> i32 {
     ioc(IOC_READ | IOC_WRITE, ty, nr, std::mem::size_of::<T>())
 }
 

