# Contributor: Andrey L <innerspacepilot@gmx.com>
# Maintainer:  Andrey L <innerspacepilot@gmx.com>
pkgname=duc-nox
pkgver=1.4.4
pkgrel=0
pkgdesc="Duc, a library and suite of tools for inspecting disk usage"
url="http://duc.zevv.nl/"
arch="all"
license="LGPL-3-0"
depends=""
makedepends="kyotocabinet-dev autoconf automake ncurses-dev"
install=""
subpackages=""
source="duc-$pkgver.tar.gz::https://github.com/zevv/duc/archive/$pkgver.tar.gz
	ncurses.patch
	"
builddir="$srcdir/duc-$pkgver"

prepare() {
	default_prepare
	cd "$builddir"
	autoreconf -iv
}

build() {
	cd "$builddir"
	./configure --prefix=/usr --with-db-backend=kyotocabinet --disable-x11 --disable-cairo
	make
}

check() {
	cd "$builddir"
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
	rm -fr "$pkgdir"/usr/share
}

sha512sums="e1a81ef92b089e2c19e3b753d50345d27c61b82414fb5c3d825a36a87775c2f09102bf8ba02219bf84461d87827702d0e9c900d7207f6a7cda6dc2ec1dc3db84  duc-1.4.4.tar.gz
32bbdf7c31ef4bb4d48e329ca2c8f67b7a24f6ea583b046a8815ca4c368574899f33e3030e2b86f9518127ebdb0d48d55f84c27aeeea9246dd15d4674f501b31  ncurses.patch"
