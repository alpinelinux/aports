# Contributor: Orson Teodoro <orsonteodoro@hotmail.com>
# Maintainer: Orson Teodoro <orsonteodoro@hotmail.com>
pkgname=flycheck
pkgver=31
pkgrel=0
pkgdesc="On the fly syntax checking for GNU Emacs"
url="http://www.flycheck.org/en/latest/"
arch="noarch"
license="GPL-3.0-or-later CC-BY-SA"
depends="emacs"
makedepends="emacs-site-start"
options="!check"
source="$pkgname-$pkgver.tar.gz::https://github.com/flycheck/$pkgname/archive/$pkgver.tar.gz
	50-init-flycheck.el"
builddir="$srcdir/"$pkgname-$pkgver
_initfile="50-init-$pkgname.el"

package() {
	cd "$builddir"

	install -d "$pkgdir"/usr/share/emacs/site-lisp/$pkgname "$pkgdir"/usr/share/doc/$pkgname
	install -t "$pkgdir"/usr/share/emacs/site-lisp/$pkgname/ *.el
	rm "$pkgdir"/usr/share/emacs/site-lisp/$pkgname/flycheck-buttercup.el
	install -t "$pkgdir"/usr/share/emacs/site-lisp/ "$srcdir"/$_initfile
	install -t "$pkgdir"/usr/share/doc/$pkgname/ CHANGES.old CHANGES.rst
	mv doc "$pkgdir"/usr/share/doc/$pkgname
}

sha512sums="e7b3707f38a913d483109cf0e581d41053363e6fc0b849805d13076cc30eca19ec875c44590c3ffb383b73670c6763582f54a2df5502f287ec04b80a542182ec  flycheck-31.tar.gz
2042e5fa4fb57eb6281004df731aad180906bf6e6431739c41fa82bd1f8ae89b4f22a3baa2dfcaccb8030b44b13c6a86cac0a307e3130baecd4843e542e61444  50-init-flycheck.el"
