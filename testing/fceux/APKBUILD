# Maintainer: DÃ­az Urbaneja Diego <sodomon2@gmail.com>
pkgname=fceux
pkgver=2.2.3
pkgrel=0
pkgdesc="Fast and ultra-compatible NES/Famicom emulator with SDL, OpenGL and SVGALIB support"
url="https://github.com/TASVideos/fceux/"
arch="x86_64"
license="GPL2"
depends="sdl gtk+2.0 mesa glu"
makedepends="make sdl-dev gtk+2.0-dev mesa-dev"
source="$pkgname-$pkgver.zip::https://github.com/TASVideos/$pkgname/archive/master.zip
  AUTHORS
  fceux.desktop
  fceux.png"
builddir="$srcdir/$pkgname-master"

build() {
	cd "$builddir"
  mv $srcdir/AUTHORS $builddir
  sh autogen.sh
  ./configure \
    --enable-system-minizip \
    --enable-gtk2 \
    --enable-opengl \
    --prefix=/usr
  make
}

package() {
	cd "$builddir"
  make DESTDIR="$pkgdir" install
  
  mkdir -p "$pkgdir"/usr/share/applications
    install -Dm644 "$srcdir"/fceux.desktop "$pkgdir"/usr/share/applications/fceux.desktop
  
  mkdir -p "$pkgdir"/usr/share/pixmaps
    mv "$srcdir"/fceux.png $pkgdir/usr/share/pixmaps/fceux.png
}

sha512sums="fe2b786a3313af253a4bad5330bc51859c440bc50d6c25953c249a91ca8809e4269d91f42001d3ed3464fff3d75741af7047582f13e2532225f6a82ab9d7ad64  fceux-2.2.3.zip
cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e  AUTHORS
5a8f5ff80137b88715891698a2fad37ee33cf83095775132b290a7057ff659c0e22493628012d59952fc45c24d6e6c5d73f93b222e49aedef2d96288cb21ff2e  fceux.desktop
09df9947f02ae90ab7e0f1dc1be4ab9bc4079b5b770f63fb075857ca16e46d94098c6b27ac121716ec3971a6e87cdb058f92cad23d8fa5b355da8a85a923cba8  fceux.png"
