# Contributor: Leo <thinkabit.ukim@gmail.com>
# Maintainer: Leo <thinkabit.ukim@gmail.com>
pkgname=gxi
pkgver=0.8.0
pkgrel=0
pkgdesc="GTK frontend for the xi text editor, written in Rust"
url="https://github.com/Cogitri/gxi"
arch="x86_64" # Limited by Rust
license="MIT"
makedepends="cargo gettext-dev gtk+3.0-dev meson xz"
checkdepends="appstream-glib desktop-file-utils"
subpackages="$pkgname-lang"
source="https://github.com/Cogitri/gxi/releases/download/v${pkgver}/gxi-${pkgver}.tar.xz"

build() {
	meson --prefix=/usr build
	ninja -C build
}

check() {
	ninja -C build test
}

package() {
	DESTDIR="$pkgdir" ninja -C build install
}

sha512sums="35ef592c19836db4e038259c8284f86d480cb6d99bd9e446b2f8cba61fd4fc206b2705bb163566f0497bf86e23b4a62266a5f66b1e03c67cc80df685f881fe7d  gxi-0.8.0.tar.xz"
