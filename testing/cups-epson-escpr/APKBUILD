# $Id$
# Maintainer: Michael Wyraz <michael@wyraz.de>
# Adapated from https://aur.archlinux.org/packages/epson-inkjet-printer-escpr/
#

pkgname=cups-epson-escpr
pkgver=1.6.29
pkgrel=0
pkgdesc="Epson Inkjet Printer Driver (ESC/P-R) for Linux"
arch="all"
url="http://download.ebz.epson.net/dsc/search/01/search/?OSC=LX"
license="GPL-2.0-or-later"
depends="cups ghostscript"
makedepends="cups-dev"
options="!libtool !check" # Test suite is missing
source="https://sources.voidlinux.org/epson-inkjet-printer-escpr-1.6.29/epson-inkjet-printer-escpr-1.6.29-1lsb3.2.tar.gz
	build_x86_64.patch"
builddir="$srcdir"/epson-inkjet-printer-escpr-$pkgver

build() {
  ./configure --prefix=/usr \
              --with-cupsfilterdir=/usr/lib/cups/filter \
              --with-cupsppddir=/usr/share/ppd
  make
}

package() {
  cd "$builddir"
  make DESTDIR="$pkgdir" install
}

sha512sums="c59c160570e8cbc582f22af1ef8788991f40685b275c1b0dfd9bd8db7d36822f5deb8ace46170575df536d9e02ea8afcebd138a0d08136c98776fcd395b71388  epson-inkjet-printer-escpr-1.6.29-1lsb3.2.tar.gz
e278cf3db482aed862c2343a2ee5147fa0e53b14d80b9fdf6907e35eae0235a440b2dfe480cbae28dc4e00c0e7cf119e6b870480a69759a6df4e0c676aec5229  build_x86_64.patch"
