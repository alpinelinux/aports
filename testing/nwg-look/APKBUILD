# Contributor: Robin Candau <robincandau@protonmail.com>
# Maintainer: Robin Candau <robincanda@protonmail.com>
pkgname=nwg-look
pkgver=1.0.6
pkgrel=1
pkgdesc="GTK settings editor adapted to work on wlroots-based compositors"
url="https://github.com/nwg-piotr/nwg-look"
arch="all"
license="MIT"
depends="xcur2png"
makedepends="go gtk+3.0-dev at-spi2-core-dev cairo-dev fontconfig-dev freetype-dev gdk-pixbuf-dev glib-dev harfbuzz-dev pango-dev zlib-ng-dev"
subpackages="$pkgname-doc"
source="https://github.com/nwg-piotr/nwg-look/archive/v$pkgver/nwg-look-$pkgver.tar.gz"
options="net !check" # no test suite

build() {
	go build \
		-trimpath \
		-buildmode=pie \
		-mod=readonly \
		-modcacherw \
		-ldflags "-linkmode external -extldflags \"$LDFLAGS\"" \
		-o bin/nwg-look \
		.
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
0ea4bbc3d69cb76dcb466840640331e20ee77a9ab62be8cda15882d4f2e2bc2b022014b2230347047849008fda948c48280fc12409bd64d28bcf95e3a7f48fc4  nwg-look-1.0.6.tar.gz
"
