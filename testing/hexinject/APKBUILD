# Contributor: Arch3y <arch3y@riseup.net>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=hexinject
pkgver=1.5
pkgrel=0
pkgdesc="A very versatile packet injector and sniffer"
url="http://hexinject.sourceforge.net/"
arch="all"
license="BSD"
depends=""
makedepends="libpcap-dev"
source="https://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz gcc5-fixes.patch"

_builddir="$srcdir/$pkgname"

prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	make
}

package() {
	cd "$_builddir"
        install -Dm755 hexinject $pkgdir/usr/bini/hexinject
	install -Dm755 prettypacket $pkgdir/usr/bin/prettypacket
	install -Dm755 hex2raw $pkgdir/usr/bin//hex2raw
}

md5sums="26fbb396bed9c64de653e35ae78b6956  hexinject-1.5.tar.gz
3cd7e857a9d1da15c6700e3fe6b929d3  gcc5-fixes.patch"
sha256sums="329f0686069988ac0dae4a00082b205ac9669bc8e202d4b112c600bcbc198ce9  hexinject-1.5.tar.gz
e8c21516893aa4d093064fd768b7cedab937116978d49bfc6cdff3191201f434  gcc5-fixes.patch"
sha512sums="cd145b6f2ae9d739effca03959fb474df11d28ff015c0e5bd1e30c341f60085154795f3c8a601b7241623944b3868b6fc9a3e1530a3aa4e7aaa2b3794a5aa34a  hexinject-1.5.tar.gz
2433e8acc132d400d0d8af5785e38e8ea5965ddfa7e871e93e6b3e8ca15b9920092f36bf46d07a2164892e650a5531e724aacdfe30e67f455a1f64f22d3015bb  gcc5-fixes.patch"
