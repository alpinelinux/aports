From 20f5d1ab59de28935dedf52d201bdb0e4f4968d9 Mon Sep 17 00:00:00 2001
From: LN Liberda <lauren@selfisekai.rocks>
Date: Mon, 12 Jan 2026 21:31:13 +0100
Subject: [PATCH] Move pytest_plugins to top-level conftest

https://docs.pytest.org/en/stable/deprecations.html#pytest-plugins-in-non-top-level-conftest-files
---
 test/conftest.py             | 3 +++
 test/integration/conftest.py | 3 ---
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/test/conftest.py b/test/conftest.py
index 8f0629b..1473349 100644
--- a/test/conftest.py
+++ b/test/conftest.py
@@ -13,6 +13,9 @@ import sys
 import pytest
 
 
+pytest_plugins = ['b2sdk.v3.testing']
+
+
 @pytest.hookimpl
 def pytest_configure(config):
     config.addinivalue_line(
diff --git a/test/integration/conftest.py b/test/integration/conftest.py
index 1a7226d..035a2be 100755
--- a/test/integration/conftest.py
+++ b/test/integration/conftest.py
@@ -47,9 +47,6 @@ ROOT_PATH = pathlib.Path(__file__).parent.parent.parent
 GENERAL_BUCKET_NAME_PREFIX = 'clitst'
 
 
-pytest_plugins = ['b2sdk.v3.testing']
-
-
 @pytest.fixture(scope='session', autouse=True)
 def summary_notes(request, worker_id):
     capmanager = request.config.pluginmanager.getplugin('capturemanager')
