# Contributor: Francesco Colista <francesco.colista@gmail.com>
# Maintainer: Francesco Colista <francesco.colista@gmail.com>
pkgname=mosh
pkgver=1.2.4
pkgrel=0
pkgdesc="Mobile shell (mosh) surviving disconnects with local echo and line editing"
url="http://mosh.mit.edu"
arch="all"
license="GPL3+"
depends="perl-io-tty"
makedepends="ncurses-dev zlib-dev openssl-dev perl-dev perl-io-tty protobuf-dev"
subpackages="$pkgname-doc"
source="http://$pkgname.mit.edu/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver
build() {
	cd "$_builddir"
	./configure --prefix=/usr \
		--sysconfdir=/etc
	make || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="c2d918f4d91fdc32546e2e089f9281b2  mosh-1.2.4.tar.gz"
sha256sums="e74d0d323226046e402dd469a176075fc2013b69b0e67cea49762c957175df46  mosh-1.2.4.tar.gz"
sha512sums="f7505faffdc8da734179b37339b554f83cbf5450b251cd2aa50d63cd6e4cbefa0da17a1c1b2a61858735ac9e5cee5841ed20e81e244380f5f9a02af1b87199cc  mosh-1.2.4.tar.gz"
