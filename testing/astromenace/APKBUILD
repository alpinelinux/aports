# Maintainer: DÃ­az Urbaneja Diego <sodomon2@gmail.com>
pkgname=astromenace
pkgver=1.4.1
pkgrel=0
pkgdesc="Hardcore 3D space shooter with spaceship upgrade possibilities"
url="http://www.viewizard.com/astromenace"
arch="x86_64"
license="GPL3"
depends="sdl2 libjpeg-turbo libvorbis glu freetype libxinerama sdl2 openal-soft"
makedepends="cmake mesa"
options="!check"
source="$pkgname-$pkgver.zip::https://github.com/viewizard/$pkgname/archive/v$pkgver.zip"
builddir="$srcdir/$pkgname-$pkgver"

build() {
  cd "$builddir"
  mkdir build
  cd build
  cmake .. \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DDATADIR=/usr/share/astromenace/ 
  make
}

package() {
	cd "$builddir"
  
  mkdir -p $pkgdir/usr/bin/
    mv build/astromenace $pkgdir/usr/bin/astromenace
    chmod 777 $pkgdir/usr/bin/astromenace
    
  mkdir -p $pkgdir/usr/share/astromenace/
    mv build/gamedata.vfs $pkgdir/usr/share/astromenace/gamedata.vfs
    
  mkdir -p $pkgdir/usr/share/pixmaps/
    mv share/astromenace_128.png $pkgdir/usr/share/pixmaps/astromenace.png
    
  mkdir -p $pkgdir/usr/share/applications/
    mv share/astromenace.desktop $pkgdir/usr/share/applications/astromenace.desktop

}

sha512sums="64ab9b9389ca9f10899d80ec5a9543db790fc56585fa8c7430eccdeb5ff609b368ae296ba8f0017b90d6604048851f8c110dfea86a6edd0dbf5167e46f0b214f  astromenace-1.4.1.zip"
