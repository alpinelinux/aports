# Maintainer: DÃ­az Urbaneja Diego <sodomon2@gmail.com>
pkgname=astromenace
pkgver=1.4.2
pkgrel=0
pkgdesc="Hardcore 3D space shooter with spaceship upgrade possibilities"
url="http://www.viewizard.com/astromenace/index_linux.php"
arch="x86_64"
license="GPL3"
depends="sdl2 libjpeg-turbo libvorbis glu freetype libxinerama sdl2 openal-soft"
makedepends="cmake mesa"
source="$pkgname-$pkgver.zip::https://github.com/viewizard/astromenace/archive/master.zip"
builddir="$srcdir/$pkgname-master"

build() {
  cd ${builddir}
  mkdir build
  cd build
  cmake .. \
  -DCMAKE_INSTALL_PREFIX=/usr \
  -DDATADIR=/usr/share/astromenace/ 
  
  make
}

check() {
echo -n
}

package() {
	cd "$builddir"
  
    mkdir -p $pkgdir/usr/bin/
    mv "$srcdir"/$pkgname-master/build/astromenace $pkgdir/usr/bin/astromenace
    chmod 777 $pkgdir/usr/bin/astromenace
    
    mkdir -p $pkgdir/usr/share/astromenace/
    mv "$srcdir"/$pkgname-master/build/gamedata.vfs $pkgdir/usr/share/astromenace/gamedata.vfs
    
    mkdir -p $pkgdir/usr/share/pixmaps/
    mv "$srcdir"/$pkgname-master/share/astromenace_128.png $pkgdir/usr/share/pixmaps/astromenace.png
    
    mkdir -p $pkgdir/usr/share/applications/
    mv "$srcdir"/$pkgname-master/share/astromenace.desktop $pkgdir/usr/share/applications/astromenace.desktop

}

sha512sums="0a7dbd0a93c56f32b132af33b92bc94953a36b6ee380a00beb0d9dcb6565ab3c1de60e95ee78ccaa72a46b2fd2c4b78fb972e520d6f8d315ee4c18b045c9da93  astromenace-1.4.2.zip"
