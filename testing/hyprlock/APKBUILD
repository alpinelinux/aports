# Contributor: Vasiliy Doylov <nekocwd@mainlining.org>
# Maintainer: Vasiliy Doylov <nekocwd@mainlining.org>
pkgname=hyprlock
pkgver=0.9.2
pkgrel=0
pkgdesc="Hyprland's GPU-accelerated screen locking utility"
url="https://github.com/hyprwm/hyprlock"
arch="all"
license="BSD-3-Clause"
options="!check" # No tests
makedepends="
	cairo-dev
	cmake
	file-dev
	hyprgraphics-dev
	hyprland-protocols
	hyprlang-dev
	hyprutils-dev
	hyprwayland-scanner
	jpeg-dev
	libwebp-dev
	libxkbcommon-dev
	linux-pam-dev
	mesa-dev
	ninja
	pango-dev
	sdbus-cpp-dev
	wayland-dev
	wayland-protocols
	"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/hyprwm/hyprlock/archive/v$pkgver.tar.gz
	"

build() {
	cmake -B build -G Ninja \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_LIBEXECDIR=/usr/libexec \
		-DCMAKE_INSTALL_PREFIX=/usr
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
9753600fcdc087ea31a28c35071efcb6c8288b2f652767f40d91794dc0aeb8e94737aa7658c2107890f1c6a0242e4e88778e98b28b0bacad65ac3c5c8516b8c5  hyprlock-0.9.2.tar.gz
"
