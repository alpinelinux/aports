# Contributor: Robert Sacks <robert@sacks.email>
# Maintainer: Robert Sacks <robert@sacks.email>
pkgname="py3-commonmark"
_pyname="commonmark"
pkgver="0.9.0"
pkgrel=0
pkgdesc="Python parser for the CommonMark Markdown specification"
url="https://pypi.org/project/commonmark/"
arch="noarch"
license="BSD-3-Clause"
depends="python3 py3-future"
makedepends="py3-setuptools"
checkdepends="py3-hypothesis py3-flake8"
source="https://files.pythonhosted.org/packages/source/${_pyname%${_pyname#?}}/$_pyname/$_pyname-$pkgver.tar.gz"
builddir="$srcdir/$_pyname-$pkgver"

build() {
	python3 setup.py build
}

check() {
	PYTHONPATH="./build:$PYTHONPATH" python3 commonmark/tests/unit_tests.py
	PYTHONPATH="./build:$PYTHONPATH" python3 setup.py test
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="f5cb6c9a32fdb441a229b70118652c0fd1b0f058728c594966f5fe04a58ec005feaade49fa72f3aa07b3376e4148e76203313e4f14d29fc86f2acc125533a4fa  commonmark-0.9.0.tar.gz"
