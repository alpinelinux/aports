# Contributor: Marian Buschsieweke <marian.buschsieweke@posteo.net>
# Maintainer: Marian Buschsieweke <marian.buschsieweke@posteo.net>
pkgname=tree-sitter-typst
pkgver=0.11.0
pkgrel=0
pkgdesc="Tree-sitter grammar for Typst"
url="https://github.com/uben0/tree-sitter-typst"
arch="all"
license="MIT"
makedepends="
	tree-sitter-dev
	"
checkdepends="
	tree-sitter-cli
	"
install_if="tree-sitter-grammars"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/uben0/tree-sitter-typst/archive/refs/tags/v$pkgver.tar.gz

	46cf4ded12ee974a70bf8457263b67ad7ee0379d.patch
	"

build() {
	abuild-tree-sitter build
}

check() {
	tree-sitter test
}

package() {
	DESTDIR="$pkgdir" abuild-tree-sitter install -q queries/typst
}

sha512sums="
2ac01a539db11e8833895b4d1add7c8c7bdd853e276084c3eb595270b82cbafa8e279840dce184c1cf4fb9a4f0aef41cbe508ea3ed2e0d973f285e4c666f81ef  tree-sitter-typst-0.11.0.tar.gz
f2671fc46e67cc83496a9bb41ab9a94fa521c753737ef27a597a1410fbebb0a36011d801089d61742505d5b444f9e0de27a004253a93e6f9859ee04703be7a35  46cf4ded12ee974a70bf8457263b67ad7ee0379d.patch
"
