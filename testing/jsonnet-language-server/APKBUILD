maintainer="Hoang Nguyen <folliekazetani@protonmail.com>"
pkgname=jsonnet-language-server
pkgver=0.16.0
pkgrel=1
pkgdesc="Jsonnet language server"
url="https://github.com/grafana/jsonnet-language-server"
arch="all"
license="AGPL-3.0-or-later"
makedepends="go"
source="$pkgname-$pkgver.tar.gz::https://github.com/grafana/jsonnet-language-server/archive/refs/tags/v$pkgver.tar.gz"
options="net" # download Go modules

build() {
	go build -v -ldflags "-X main.version=v$pkgver"
}

check() {
	go test ./...
}

package() {
	install -Dm755 $pkgname -t "$pkgdir"/usr/bin/
}

sha512sums="
e92c5e80dc37ed6ae22c3d462b33e104e646af8af286075a673665b40b92df81fedc929a09cd546ebb298d699c49761ef2baa3f8fca70d09bbbf56ccd5e6bf1d  jsonnet-language-server-0.16.0.tar.gz
"
