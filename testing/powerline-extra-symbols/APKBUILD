# Contributor: Orson Teodoro <orsonteodoro@hotmail.com>
# Maintainer: Orson Teodoro <orsonteodoro@hotmail.com>
pkgname=powerline-extra-symbols
pkgver=20171017
pkgrel=0
pkgdesc="Extra glyphs for your powerline separators"
url="https://github.com/ryanoasis/powerline-extra-symbols"
arch="noarch"
license="MIT"
depends="fontconfig"
makedepends=""
subpackages="$pkgname-doc"
options="!check"
commit="7fa9262caf89c500d6024313d35f0571c90aae79"

source="$pkgname-$pkgver.zip::https://github.com/ryanoasis/$pkgname/archive/$commit.zip"

builddir="$srcdir/"$pkgname-$commit

unpack() {
	default_unpack || return 1
}

package() {
	cd "$builddir"

	mkdir -p "$pkgdir"/usr/share/fonts/$pkgname
	install -m644 "$builddir"/patched-fonts/*.otf \
		"$pkgdir"/usr/share/fonts/$pkgname/
}

doc() {
	cd "$builddir"

	msg "Packaging documentation"

	mkdir -p "$subpkgdir"/usr/share/doc/$pkgname/
	mv  	"$builddir"/README.md		"$subpkgdir"/usr/share/doc/$pkgname/ || return 1
	mkdir -p "$subpkgdir"/usr/share/licenses/$pkgname/
	mv	"$builddir"/LICENSE		"$subpkgdir"/usr/share/licenses/$pkgname/ || return 1

	default_doc || return 1
}
sha512sums="8d0205a843ca2fbe9ba3ab174be2e3d94b132caa60df9b19de49dd23a2d715dccb60198272a55ceb4333fc4441649f5d12426c7aa381254b34149528396fddec  powerline-extra-symbols-20171017.zip"
