# Maintainer: Willow Barraco <contact@willowbarraco.fr>
pkgname=ctags-lsp
pkgver=0.11.0
pkgrel=0
pkgdesc="LSP implementation using universal-ctags as backend"
url="https://github.com/netmute/ctags-lsp/"
arch="all"
license="MIT"
makedepends="go"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/netmute/ctags-lsp/archive/refs/tags/v$pkgver.tar.gz"
options="net !check" # net: go mods, check: tests sigsegv

build() {
	go build -ldflags "-s -w -X main.version=$pkgver"
}

package() {
	install -Dm0755 ctags-lsp "$pkgdir"/usr/bin/ctags-lsp
	install -Dm644 LICENSE "$pkgdir/usr/share/doc/$pkgname/LICENSE"
}

sha512sums="
8341e1ac7d2fed2591d9b92a1d56ee247525bc7a7b70a34c92af9adfbf24a1916a9eb317e7cf65c5a1c6f010ac0e6cfeab8062d755cdcb5b81f08de0a25d8cec  ctags-lsp-0.11.0.tar.gz
"
