# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=elementary-photos
pkgver=8.0.1
pkgrel=3
pkgdesc="Photo viewer and organizer designed for elementary OS"
url="https://github.com/elementary/photos"
arch="all"
license="LGPL-2.1-or-later"
depends="hicolor-icon-theme"
makedepends="
	geocode-glib-dev
	gexiv2-0.16-dev
	glib-dev
	granite-dev
	gst-plugins-base-dev
	gstreamer-dev
	gtk+3.0-dev
	json-glib-dev
	libexif-dev
	libgee-dev
	libgphoto2-dev
	libgudev-dev
	libhandy1-dev
	libportal-dev
	libraw-dev
	libwebp-dev
	libxml2-dev
	meson
	sqlite-dev
	vala
	"
subpackages="
	$pkgname-lang
	"
source="https://github.com/elementary/photos/archive/$pkgver/$pkgname-$pkgver.tar.gz
	gexiv2-0.16.patch
	"
builddir="$srcdir/photos-$pkgver"
options="!check" # no tests provided

build() {
	abuild-meson . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
1775ef21f3e97ded60926be8a4277db4c66e387f5f6c1c9753108c98dc805f56abc841a8b95c4bc8b6fc855e47fff51c622785ab305f09b4d8502b66be328f4f  elementary-photos-8.0.1.tar.gz
98be5e826fa608fe5c669ba5258a84c1235e69a6e34aaa82a7f290fb32bba876c6674bd6d86b3a45016331aac41de95c5f7613abe7a925d535e5d2497ba972f4  gexiv2-0.16.patch
"
