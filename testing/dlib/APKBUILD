# Contributor: Davis E. King <davis@dlib.net>
# Maintainer: Adriaan Groenenboom <agboom@pm.me>
pkgname=dlib
pkgver=20.0
pkgrel=0
pkgdesc="A toolkit for making real world machine learning and data analysis applications in C++"
url="https://dlib.net/"
arch="all"
license="BSL-1.0"
makedepends="
	cmake
	libjpeg-turbo-dev
	libpng-dev
	libx11-dev
	openblas-dev
	samurai
	"
subpackages="$pkgname-dev"
source="https://dlib.net/files/dlib-$pkgver.tar.bz2"

build() {
	cmake -B build -G Ninja \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DBUILD_SHARED_LIBS=ON \
		-DCMAKE_BUILD_TYPE=None
	cmake --build build
}

package() {
	DESTDIR=$pkgdir cmake --install build
}

sha512sums="
7b4a11fd152e93b4ff17d1ffaaf412bf5502c1a9db2fc856cc84877dda1fb17994a541ef17a0f1595d139df1d2e0056d5995ff695a42978f156e2dec3747b58c  dlib-20.0.tar.bz2
"
