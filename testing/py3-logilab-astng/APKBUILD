# Contributor: Fabian Affolter <fabian@affolter-engineering.ch>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=py3-logilab-astng
_pkgname=logilab-astng
pkgver=0.24.3
pkgrel=2
pkgdesc="Rebuild a new abstract syntax tree from Python's ast"
url="http://pypi.python.org/pypi/logilab-astng"
arch="noarch"
license="GPL-2.0-or-later"
depends="python3 py3-logilab-common"
makedepends="py3-setuptools"
source="https://files.pythonhosted.org/packages/source/${_pkgname:0:1}/$_pkgname/$_pkgname-$pkgver.tar.gz"
builddir="$srcdir"/logilab-astng-$pkgver

replaces="py-logilab-astng" # Backwards compatibility
provides="py-logilab-astng=$pkgver-r$pkgrel" # Backwards compatibility

build() {
	python3 setup.py build
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
	rm -f "$pkgdir"/usr/lib/python3.?/site-packages/logilab/__init__.*
}

sha512sums="fb1e46ebf7111d727cd9d187968cb349dc23dfba0d4d8c6c793a8c081d4506f11e488074cc51b632c525aa264cfa50279dda90f0cf35dc2120ebbf4714902525  logilab-astng-0.24.3.tar.gz"
