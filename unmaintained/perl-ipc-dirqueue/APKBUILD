# Automatically generated by apkbuild-cpan, template 1
# Contributor: 
# Maintainer: 
pkgname=perl-ipc-dirqueue
_pkgreal=IPC-DirQueue
pkgver=1.0
pkgrel=0
pkgdesc="disk-based many-to-many queueing system"
url="http://search.cpan.org/dist/IPC-DirQueue/"
arch="noarch"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/J/JM/JMASON/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="1fc4640118a333f2d4a8a45f37297995  IPC-DirQueue-1.0.tar.gz"
sha256sums="f636e8bb3f54515be77476f99fd962801d2d3f32bb43e154b459df4c64974f99  IPC-DirQueue-1.0.tar.gz"
sha512sums="688cf54be66045b5260883c75a1808f4bf75d91e852f3588f5e48afb2429428fc5d32c18e2e45e6c5edbc32a2803e0c60d8a7b22eb4c5f747d8a9814d7d2174e  IPC-DirQueue-1.0.tar.gz"
