# Automatically generated by apkbuild-cpan, template 1
# Contributor: Leonardo Arena <rnalrd@alpinelinux.org>
# Maintainer: 
pkgname=perl-html-gumbo
_pkgreal=HTML-Gumbo
pkgver=0.13
pkgrel=1
pkgdesc="Perl module for HTML-Gumbo"
url="http://search.cpan.org/dist/HTML-Gumbo/"
arch="all"
license="GPL PerlArtistic"
cpandepends="perl perl-alien-libgumbo"
cpanmakedepends="perl-module-build gumbo-parser-dev"
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/A/AL/ALEXMV/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	if [ -e Build.PL ]; then
		perl Build.PL installdirs=vendor || return 1
	else
		PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
	fi
}

build() {
	cd "$_builddir"
	./Build PERL_MM_USE_DEFAULT=1 INSTALLDIRS=vendor || return 1
}

package() {
	cd "$_builddir"
	install -m0644 -D ./blib/arch/auto/HTML/Gumbo/Gumbo.so \
		"$pkgdir"/usr/share/perl5/vendor_perl/auto/HTML/Gumbo/Gumbo.so
	install -m0644 -D ./blib/lib/HTML/Gumbo.pm \
		"$pkgdir"/usr/share/perl5/vendor_perl/HTML/Gumbo.pm
	gzip ./blib/libdoc/HTML::Gumbo.3pm
	install -m0644 -D ./blib/libdoc/HTML::Gumbo.3pm.gz \
		"$pkgdir"/usr/share/man/man3/HTML::Gumbo.3pm.gz
}

md5sums="189681412073f4a5d9874b0e21d592d6  HTML-Gumbo-0.13.tar.gz"
sha256sums="84acaf5f89e2b4cd73800561acad0bfbc6a4e7ec315d84c0c072ae41546d7ca7  HTML-Gumbo-0.13.tar.gz"
sha512sums="447b42a1a9facb2e8d0f1d7d55e19a8c82cc556ba490d7de6a79602506bdf77a8fbd3c18d4d23d93730883b7dbae5f781ca6881e310f05f564b2886007f9fa74  HTML-Gumbo-0.13.tar.gz"
