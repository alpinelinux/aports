Author: Daniel Everett <deverett@gmail.com>
URL: https://github.com/dae3/alpine-yubikey-personalization
Summary: Force use of glibc style optreset

--- a/tests/test_args_to_config.c.orig
+++ b/tests/test_args_to_config.c
@@ -131,12 +131,7 @@
 
 	ykp_errno = 0;
 
-/* getopt reinit (BSD systems use optreset and a different optind value) */
-#if defined(__GLIBC__) || defined(_WIN32)
 	optind = 0;
-#else
-	optind = optreset = 1;
-#endif
 
 	/* copy version number from st into cfg */
 	assert(ykp_configure_for(cfg, 1, st) == 1);
@@ -328,12 +323,7 @@
 
 	ykp_errno = 0;
 
-/* getopt reinit (BSD systems use optreset and a different optind value) */
-#if defined(__GLIBC__) || defined(_WIN32)
 	optind = 0;
-#else
-	optind = optreset = 1;
-#endif
 
 	/* copy version number from st into cfg */
   ykp_configure_version(cfg, st);
