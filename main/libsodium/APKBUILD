# Contributor: ≈Åukasz Jendrysik <scadu@yandex.com>
# Contributor: Stuart Cardall <developer@it-offshore.co.uk>
# Maintainer: Stuart Cardall <developer@it-offshore.co.uk>
pkgname=libsodium
pkgver=1.0.12
pkgrel=0
pkgdesc="P(ortable|ackageable) NaCl-based crypto library"
url="https://github.com/jedisct1/libsodium"
arch="all"
license="ISC"
subpackages="$pkgname-dev"
source="https://download.libsodium.org/$pkgname/releases/$pkgname-$pkgver.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		|| return 1
	make || return 1
}

check() {
	cd "$builddir"
	make check || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
}

sha512sums="1e63960da42bcc90945463ae1f5b1355849881dce5bba6d293391f8d6f0932063a5bfd433a071cb184af90ebeab469acc34710587116922144d61f3d7661901b  libsodium-1.0.12.tar.gz"
