# Automatically generated by apkbuild-cpan, template 1
# Contributor: Kiyoshi Aman <kiyoshi.aman@gmail.com>
# Maintainer: Kiyoshi Aman <kiyoshi.aman@gmail.com>
pkgname=perl-lwp-protocol-https
_pkgreal=LWP-Protocol-https
pkgver=6.06
pkgrel=1
pkgdesc="Provide https support for LWP::UserAgent"
url="http://search.cpan.org/dist/LWP-Protocol-https/"
arch="noarch"
license="GPL PerlArtistic"
cpandepends="perl-libwww perl-io-socket-ssl perl-mozilla-ca perl-net-http
	perl-net-ssleay"
cpanmakedepends="perl-try-tiny"
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/M/MS/MSCHILLI/LWP-Protocol-https-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make
}

check() {
	cd "$builddir"
	make test
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="06f5dfd33b07f6594a429dbbd5e6a2d1  LWP-Protocol-https-6.06.tar.gz"
sha256sums="b86c83cc1dcf4a6f84e2fbe32f9c39591a36e6e418af00533505f3452496adef  LWP-Protocol-https-6.06.tar.gz"
sha512sums="acc65d63da858f25cf9cc1e11d074f035e8ead4c1ffea22bac930f61100ff98f2bf0bb4ede12219d6c22bd5fe4d99532a45fe5cbc9a4b863dd16b0c379f8d2ea  LWP-Protocol-https-6.06.tar.gz"
