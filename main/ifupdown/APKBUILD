# Contributor: 
# Maintainer: 
pkgname=ifupdown
pkgver=0.8.35
pkgrel=0
pkgdesc="high level tools to configure network interfaces"
url="http://packages.debian.org/ifupdown"
arch="all"
license="GPL"
makedepends="perl"
source="http://ftp.de.debian.org/debian/pool/main/i/$pkgname/${pkgname}_$pkgver.tar.xz
	musl-macros-main.patch
	musl-macros-archlinux.patch
	makefile-arch.patch
	busybox-compat.patch
	ifupdown-alpine-ifstate.patch
	ifupdown-no-dpkg.patch"

builddir="$srcdir/$pkgname"

prepare() {
	cd $builddir
	local i
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd $builddir
	make || return 1
}

package() {
	cd $builddir
	make BASEDIR="$pkgdir" install || return 1
}

sha512sums="ec18b9cc36914b27ee9cfd1d30dc6fbf356f9ca5a0e7af1eafe6318c22ab59f6e214869e47c61ca00389061a58fa46e4bf113423156b8b5ebf75308a3ad23153  ifupdown_0.8.35.tar.xz
1de60402dfc2e246c162726093c765971021e7a0069372e0a167f62a9e90ef742f4a5e7593dd9da45f689e806d23e59156754d6bbeed4e1a725d97adb525eac6  musl-macros-main.patch
a70b947b1b618d838e03f6493f2a9748565b0a077b1d526c6ad7ba7f4d7e8c287c42d92140164f4e7eb2e1860e1d476b3d44b88070e5e6bfe00ab0286db64006  musl-macros-archlinux.patch
31e436464be33e63c37a914ab77c9a3c0d4b94a1037457e483754bb1c262d4c6a318205a76277f58510a7030b7e69ae6b36ab8a966940771dbe8544a6079915b  makefile-arch.patch
c99209142275b103d978e45037f3dcf0dcc4a6f33cf480e582e48d9c7858b7873012f287c2894376c841610842046b4e5b7da58632f839ab526e33704f758e5d  busybox-compat.patch
422998dae8d0ac6049064c93c22baea143eefa7cab9a330b41ec6e317294da4976c193a7a252a8b4a3a47b93ebb01ef308f5a3803838d6452fc283a159ad1e89  ifupdown-alpine-ifstate.patch
dfda752c68fd71d016f770753fa7142179dcb2c6f92cc78a9efa8135897e8186c549062bb1631c50c6087725e796c62e900d3f3a91e52d8c436be64a18efbfba  ifupdown-no-dpkg.patch"
