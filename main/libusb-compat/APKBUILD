# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=libusb-compat
pkgver=0.1.5
pkgrel=1
pkgdesc="Compatility for older libusb"
url="http://libusb.sourceforge.net/"
arch="all"
license="LGPL"
subpackages="$pkgname-dev"
depends=
depends_dev="libusbx-dev"
makedepends="$depends_dev"
source="http://downloads.sourceforge.net/libusb/$pkgname-$pkgver.tar.bz2"

build() {
	cd "$srcdir"/$pkgname-$pkgver
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--disable-build-docs \
		|| return 1
	make || return 1
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install || return 1
	rm "$pkgdir"/usr/lib/*.la || return 1
}
md5sums="2780b6a758a1e2c2943bdbf7faf740e4  libusb-compat-0.1.5.tar.bz2"
sha256sums="404ef4b6b324be79ac1bfb3d839eac860fbc929e6acb1ef88793a6ea328bc55a  libusb-compat-0.1.5.tar.bz2"
sha512sums="fe63bd1c65e67588a83ebfdd329025ecf75f33f877fb80dd83eb528df057efb591e010416027f9054294504562299166e8e2811a7681fa1967a03baae9b88857  libusb-compat-0.1.5.tar.bz2"
