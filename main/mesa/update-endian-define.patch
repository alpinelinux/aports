--- a/src/gallium/auxiliary/gallivm/lp_bld_misc.cpp
+++ b/src/gallium/auxiliary/gallivm/lp_bld_misc.cpp
@@ -705,7 +705,7 @@
     */
    builder.setCodeModel(CodeModel::Large);
 
-#if PIPE_ARCH_LITTLE_ENDIAN
+#if defined(PIPE_ARCH_LITTLE_ENDIAN)
    /*
     * Versions of LLVM prior to 4.0 lacked a table entry for "POWER8NVL",
     * resulting in (big-endian) "generic" being returned on
