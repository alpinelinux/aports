# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=swfdec-mozilla
pkgver=0.9.2
pkgrel=0
pkgdesc="free plugin for Mozilla browsers that uses the Swfdec library for playing SWF files"
url="http://swfdec.freedesktop.org"
arch="all !aarch64"
license="LGPL"
makedepends="swfdec-dev"
depends=
source="http://swfdec.freedesktop.org/download/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.gz"

builddir="$srcdir/$pkgname-$pkgver"
prepare() {
	cd "$builddir"
	update_config_sub
}

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--disable-static \
		--with-plugin-dir=/usr/lib/mozilla/plugins/
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="202681ad3d08058d72c6980cf90508968d9ce96aa88c86a545f2b5f5fdf107b488200bee444c829c4c5e30c3723ac98e797d5031afc27dc559319aac774db3fa  swfdec-mozilla-0.9.2.tar.gz"
