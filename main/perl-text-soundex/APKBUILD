# Automatically generated by apkbuild-cpan, template 1
# Contributor: Natanael Copa <ncopa@alpinelinux.org>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=perl-text-soundex
_pkgreal=Text-Soundex
pkgver=3.04
pkgrel=3
pkgdesc="Implementation of the soundex algorithm"
url="http://search.cpan.org/dist/Text-Soundex/"
arch="all"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="4630d47b42b92470df7b447984a71446  Text-Soundex-3.04.tar.gz"
sha256sums="2e56bb4324ee0186b908b3bd78463643affe7295624af0628e81491e910283d9  Text-Soundex-3.04.tar.gz"
sha512sums="f0f1c14568ff34fea017854605de9d9ea1def34707c68979bfbeb77c823cb5e1935a36d7301da6dd445ce7c3c655d6ebc19f1621086df0bf479bd34aad025b1f  Text-Soundex-3.04.tar.gz"
