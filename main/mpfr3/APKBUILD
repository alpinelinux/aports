# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=mpfr3
pkgver=3.1.5
pkgrel=1
pkgdesc="multiple-precision floating-point library"
url="http://www.mpfr.org/"
arch="all"
license="GPL LGPL"
depends=""
makedepends_build="texinfo"
makedepends_host="gmp-dev"
makedepends="$makedepends_build $makedepends_host"
source="http://www.mpfr.org/mpfr-$pkgver/mpfr-$pkgver.tar.xz"
subpackages="$pkgname-doc mpfr-dev"
builddir="$srcdir/mpfr-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--with-sysroot="$CBUILDROOT" \
		--prefix=/usr \
		--enable-shared
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

dev() {
	replaces=mpfr
	default_dev
}

