# Maintainer: Mike Crute <mike@crute.us>
pkgname=newsboat
pkgver=2.11
pkgrel=0
pkgdesc="RSS/Atom feed reader for text terminals"
url="https://newsboat.org"
arch="all"
license="MIT"
replaces="newsbeuter"
provides="newsbeuter=$pkgver-r$pkgrel"
makedepends="asciidoc curl-dev gettext-dev json-c-dev libxml2-dev
	ncurses-dev libressl-dev perl sqlite-dev stfl-dev
	"
subpackages="$pkgname-doc $pkgname-lang"
source="$url/releases/$pkgver/$pkgname-$pkgver.tar.xz"

builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	./config.sh
	echo "LDFLAGS+=-lintl" >> config.mk
	make prefix=/usr
}

check() {
	cd "$builddir"
	make prefix=/usr test
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" prefix=/usr install
}

sha512sums="a82c1ccb53d8be733973c678b0891821a7aec44654b6bfa167253774adbcc6b73e570cd197e2ea038c827719cd1a92d043dfecd0671f32ba51185a87889181f1  newsboat-2.11.tar.xz"
