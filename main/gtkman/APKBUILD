# Contributor: Natanael Copa <ncopa@alpinelinux.org>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=gtkman
pkgver=1.0.1
pkgrel=0
pkgdesc="GTK+2 manual page viewer"
url="http://www.salixos.org/wiki/index.php/GTKMan"
arch="noarch"
license="GPL-3.0"
depends="py-gtk"
depends_dev=
makedepends="gettext intltool"
install=""
subpackages="$pkgname-lang"
source="$pkgname-$pkgver.tar.gz::https://github.com/gapan/$pkgname/archive/$pkgver.tar.gz
fix-man-install.patch"

builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	local i
	cd "$builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i;;
		esac
	done
}

build() {
	cd "$builddir"
	make
}

package() {
	cd "$builddir"
	DESTDIR="$pkgdir" PREFIX=/usr make install
}

sha512sums="fd095d638e10271321b56fd417111b5b94dadbd63dc71e238992e43398f7a53b6039c902aeb6482f0399ab5aadaeca607a9b08873ee0f4b76acdbb741190628e  gtkman-1.0.1.tar.gz
3c99d27559e1bdccfe11eb8bfe0880378018de77781d80b51d0889e26c37afd748906b26bfbea2a5ac14bee288452c457ef7c60f8188993f407bd96b6c940ac1  fix-man-install.patch"
