# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=gnu-efi
pkgver=3.0.17
pkgrel=1
pkgdesc="Development Libraries and headers for EFI"
url="https://sourceforge.net/projects/gnu-efi/"
arch="all !armhf !s390x !ppc64le !mips !mips64"
license="BSD-2-Clause"
subpackages="$pkgname-dev"
depends_dev="$pkgname"
source="https://downloads.sourceforge.net/project/gnu-efi/gnu-efi-$pkgver.tar.bz2
	no-werror.patch
	avoid-processor-dependent-sizes-in-assembly.patch
	"

build() {
	unset LDFLAGS
	make -j1
}

package() {
	make PREFIX=/usr INSTALLROOT="$pkgdir" install
}

sha512sums="
0893ca234272584f889b1ae1c75341a9ceee60acfd32765daa5d704191ba00450536a287b949304c6d055d1bf125cc29e24fc41df8e5230e0da4f9d944876512  gnu-efi-3.0.17.tar.bz2
271b12d516f1e5eeb6fc5b0d02879f0c3c4875539f4a9419d10ee88cc27b74b8dd5f5677b78f04062bb29120b3b44727d800efc50d82b3d6626517ce113759e7  no-werror.patch
7e22ef4d1170b44ad1b7c00d5bb2d4e428a90de40e2a24145561ccc9da12968d46012ba6ade7377e9336ce87473f4449a9be9d3f5361589d33126c682c3c9970  avoid-processor-dependent-sizes-in-assembly.patch
"
