From 9a788d82c38717396903f5352e6d27e938f0cb25 Mon Sep 17 00:00:00 2001
From: Kaarle Ritvanen <kaarle.ritvanen@datakunkku.fi>
Date: Fri, 11 Sep 2015 15:05:30 +0300
Subject: [PATCH 13/14] httpd-*.conf: IfModule

---
 docs/conf/extra/httpd-autoindex.conf.in | 2 ++
 docs/conf/extra/httpd-info.conf.in      | 4 ++++
 docs/conf/extra/httpd-userdir.conf.in   | 2 ++
 3 files changed, 8 insertions(+)

diff --git a/docs/conf/extra/httpd-autoindex.conf.in b/docs/conf/extra/httpd-autoindex.conf.in
index 51b02ed..d8fea34 100644
--- a/docs/conf/extra/httpd-autoindex.conf.in
+++ b/docs/conf/extra/httpd-autoindex.conf.in
@@ -1,3 +1,4 @@
+<IfModule autoindex_module>
 #
 # Directives controlling the display of server-generated directory listings.
 #
@@ -91,3 +92,4 @@ HeaderName HEADER.html
 #
 IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t
 
+</IfModule>
diff --git a/docs/conf/extra/httpd-info.conf.in b/docs/conf/extra/httpd-info.conf.in
index 5cfdf69..4876982 100644
--- a/docs/conf/extra/httpd-info.conf.in
+++ b/docs/conf/extra/httpd-info.conf.in
@@ -6,6 +6,7 @@
 #                   mod_info (for the server-info handler),
 #                   mod_status (for the server-status handler)
 
+<IfModule status_module>
 #
 # Allow server status reports generated by mod_status,
 # with the URL of http://servername/server-status
@@ -23,7 +24,9 @@
 # Off) when the "server-status" handler is called. The default is Off.
 #
 #ExtendedStatus On
+</IfModule>
 
+<IfModule info_module>
 #
 # Allow remote server configuration reports, with the URL of
 #  http://servername/server-info (requires that mod_info.c be loaded).
@@ -34,3 +37,4 @@
     Require host .example.com
     Require ip 127
 </Location>
+</IfModule>
diff --git a/docs/conf/extra/httpd-userdir.conf.in b/docs/conf/extra/httpd-userdir.conf.in
index a744322..edd158f 100644
--- a/docs/conf/extra/httpd-userdir.conf.in
+++ b/docs/conf/extra/httpd-userdir.conf.in
@@ -1,3 +1,4 @@
+<IfModule userdir_module>
 # Settings for user home directories
 #
 # Required module: mod_authz_core, mod_authz_host, mod_userdir
@@ -19,3 +20,4 @@ UserDir public_html
     Require method GET POST OPTIONS
 </Directory>
 
+</IfModule>
-- 
2.9.4

