# Contributor: Natanael Copa <ncopa@alpinelinux.org>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=sic
pkgver=1.2
pkgrel=1
pkgdesc="an extremely simple IRC client"
url="http://tools.suckless.org/sic"
arch="all"
license="GPL"
depends=""
subpackages="$pkgname-doc"
source="http://dl.suckless.org/tools/sic-$pkgver.tar.gz
	musl-fix.patch
	lineprint.patch
	hidecommand.patch"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch --ignore-whitespace -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	make PREFIX=/usr || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" PREFIX=/usr install
}

sha512sums="5659ed9d8a5986dda90dbe1155c27a5fd0ab4b1fcad2c1a20997c530bf03864e6c08bdeffc025c728629ab11872af6a1250761160b91f148dc37d77a49046dc9  sic-1.2.tar.gz
94d9dc44a1a33c67141db312004a2c9d2113223c921ae210a6451b1c0f408d93fff4b16049f49d393ab4ca3ffca3fb5fc62265ec6195317abfbb70abdcd8ad5e  musl-fix.patch
85128d8f230542e942e9b7300e09fb6896d2c2f689509cf643d98c1b200eb23fc53e4a6684a62a203ab0643604e146944246d674ed45c96c91d7105b6d44e4c4  lineprint.patch
c49dac73f1ba21970670e1274a7839cd0a4e6230462014b5885befe500a58477c20208873a8b6d74998e1364f8026007c6888d4f44e0df72356938eee61be553  hidecommand.patch"
