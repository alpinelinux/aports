# Contributor: Timo Teräs <timo.teras@iki.fi>
# Maintainer: Timo Teräs <timo.teras@iki.fi>
pkgname=fortify-headers
pkgver=2.3.1
pkgrel=2
pkgdesc="standalone fortify source implementation"
url="https://github.com/jvoisin/fortify-headers"
arch="noarch"
options="!check"  # No test suite.
license="0BSD"
source="$pkgname-$pkgver.tar.gz::https://github.com/jvoisin/fortify-headers/archive/refs/tags/$pkgver.tar.gz
	$pkgname-vsnprintf.patch::https://github.com/jvoisin/fortify-headers/commit/6f5423255b6d78b0d6979e6319642ae530f3e2b7.patch
	$pkgname-snprintf.patch::https://github.com/jvoisin/fortify-headers/commit/9014b0266147dbb74d5d9e6e2c24ae9d21ad7e07.patch
	$pkgname-strncpy.patch::https://github.com/jvoisin/fortify-headers/commit/c4d9299abf7f6b941493fc487d2ccbb47d756479.patch
	"

package() {
	make DESTDIR="$pkgdir" PREFIX=/usr install
}

sha512sums="
c9ad5bd58e4378f18fdeb8ec4730570e38ca2369c14e249ec60afcfff2b7195bd6121641e01dc7be7a122f5dd0992859084a54a40d2c1d80389eb8a42b577557  fortify-headers-2.3.1.tar.gz
82adc8bade6be58cf4cb5ea1ba38829030d9d3cc569d4143c286e34c383b3814574bca9b8528c955d7c7479fab5bcfb98e97223c6648ff6cd95e9553d5cda304  fortify-headers-vsnprintf.patch
add8b3501703c7d6af12450e13778e4bc8479106de080f3a1c5d5a1780ce82b2ccc743722f39c277c6779e213145857c73a3a3262666924c1ad74b59b151598e  fortify-headers-snprintf.patch
f2f5fb9e8c42528ad6815cb3cc8377ad72108c7a238cf3a01fbd4d6366469e3b7e6236d6126ee5434518e93c4add8263a932884d1814c0ba9d93a9a727f35144  fortify-headers-strncpy.patch
"
