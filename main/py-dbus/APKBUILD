# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=py-dbus
pkgver=1.1.1
pkgrel=0
pkgdesc="Python bindings for DBUS"
url="http://www.freedesktop.org/wiki/Software/DBusBindings"
arch="all"
license="GPL LGPL"
depends="python>=2.6.5"
makedepends="pkgconfig dbus-glib-dev python-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://dbus.freedesktop.org/releases/dbus-python/dbus-python-$pkgver.tar.gz"

_builddir="$srcdir"/dbus-python-$pkgver
build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		|| return 1
	make || return 1
	make test || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find $pkgdir -iname *.la -delete
}

md5sums="742c7432ad0f7c3f98291d58fa2e35dc  dbus-python-1.1.1.tar.gz"
sha256sums="8917ca4fb8f4d693aee18d200cbad166b2c938dfb88c03bb4ab3d90a7c915e88  dbus-python-1.1.1.tar.gz"
sha512sums="6ac128594b616e6b1b523a9395d38752f241d14dc888616c5ec3622d49b9641fff8784cda3ab1941f49bb55df05f74ae72a88ec739a7688189e2feae84b855da  dbus-python-1.1.1.tar.gz"
