# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=py-dbus
pkgver=1.2.0
pkgrel=2
pkgdesc="Python bindings for DBUS"
url="http://www.freedesktop.org/wiki/Software/DBusBindings"
arch="all"
license="GPL LGPL"
depends="python2"
depends_dev="py-dbus"
makedepends="dbus-glib-dev python2-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://dbus.freedesktop.org/releases/dbus-python/dbus-python-$pkgver.tar.gz"

builddir="$srcdir"/dbus-python-$pkgver

prepare() {
	cd "$builddir"
	update_config_sub
}
build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr
	make
	make test
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="013b23e08fa1ed43f53a756587fefbc9770f7c51e93510e555acbd77230b7200693419bba9a69680d790bbaf123f4a195afa38b3eee1143da950fee0b5130bce  dbus-python-1.2.0.tar.gz"
