diff --git a/bin/varnishtest/vtc_barrier.c b/bin/varnishtest/vtc_barrier.c
index f7f68af..d3b8544 100644
--- a/bin/varnishtest/vtc_barrier.c
+++ b/bin/varnishtest/vtc_barrier.c
@@ -35,6 +35,7 @@
 #include <unistd.h>
 
 #include <sys/socket.h>
+#include <sys/time.h>
 
 #include "vtc.h"
 #include "vtcp.h"
diff --git a/include/vsb.h b/include/vsb.h
index d510884..74d7914 100644
--- a/include/vsb.h
+++ b/include/vsb.h
@@ -31,6 +31,8 @@
 #ifndef VSB_H_INCLUDED
 #define VSB_H_INCLUDED
 
+#include <sys/types.h>
+
 /*
  * Structure definition
  */
diff --git a/lib/libvarnishapi/vxp.c b/lib/libvarnishapi/vxp.c
index 039fafe..6b16a45 100644
--- a/lib/libvarnishapi/vxp.c
+++ b/lib/libvarnishapi/vxp.c
@@ -33,6 +33,7 @@
 #include <ctype.h>
 #include <stdlib.h>
 #include <string.h>
+#include <sys/types.h>
 
 #include "vdef.h"
 #include "vas.h"
diff --git a/lib/libvarnishapi/vxp_lexer.c b/lib/libvarnishapi/vxp_lexer.c
index 527bbb7..272a1ba 100644
--- a/lib/libvarnishapi/vxp_lexer.c
+++ b/lib/libvarnishapi/vxp_lexer.c
@@ -33,6 +33,7 @@
 #include <ctype.h>
 #include <stdlib.h>
 #include <string.h>
+#include <sys/types.h>
 
 #include "vdef.h"
 #include "vas.h"
