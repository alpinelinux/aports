# Contributor: Valery Kartel <valery.kartel@gmail.com>
# Contributor: Timo Teräs <timo.teras@iki.fi>
# Maintainer:  Timo Teräs <timo.teras@iki.fi>
pkgname=php5-phpmailer
pkgver=5.2.20
pkgrel=0
pkgdesc="PHP class for SMTP mailing"
url="https://github.com/PHPMailer/PHPMailer"
arch="noarch"
license="LGPL"
depends=""
subpackages="$pkgname-doc $pkgname-i18n $pkgname-extras"
source="$pkgname-$pkgver.tar.gz::https://github.com/PHPMailer/PHPMailer/archive/v$pkgver.tar.gz"
builddir="$srcdir/PHPMailer-$pkgver"

build() {
	cd "$builddir"
}

package() {
	cd "$builddir"
	mkdir -p "$pkgdir"/usr/share/pear \
		"$pkgdir"/usr/share/doc/$pkgname
	install -Dm644 "$builddir"/class.*.php "$pkgdir"/usr/share/pear || return 1
	cp -ar "$builddir"/examples "$pkgdir"/usr/share/doc/$pkgname/
}

i18n() {
	depends="$pkgname"
	pkgdesc="$pkgdesc (translations)"
	mkdir -p "$subpkgdir"/usr/share/pear
	install -Dm644 "$builddir"/language/*.php "$subpkgdir"/usr/share/pear || return 1
}

extras() {
	depends="$pkgname"
	pkgdesc="$pkgdesc (optional additional functions)"
	mkdir -p "$subpkgdir"/usr/share/pear
	install -Dm644 "$builddir"/extras/*.php "$subpkgdir"/usr/share/pear || return 1
}

md5sums="9b23523ce070855abfdd79ff06d85afd  php5-phpmailer-5.2.20.tar.gz"
sha256sums="4716acef60503f345323849842f3138a8453c178d3829477553bf1e347664976  php5-phpmailer-5.2.20.tar.gz"
sha512sums="c8dab5decd5012687b2e1d7a4ce2a3a605a6c3589b1f747960faa6080fb1c65580c1dd0f0cba52fc3735e4cf357c31237b51a6ade00c5dbffc57c27328d15018  php5-phpmailer-5.2.20.tar.gz"
