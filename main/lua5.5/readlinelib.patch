diff --git a/luaconf.h b/luaconf.h
index 96a77802..7a753eb6 100644
--- a/src/luaconf.h
+++ b/src/luaconf.h
@@ -70,8 +70,10 @@
 #if defined(LUA_USE_LINUX)
 #define LUA_USE_POSIX
 #define LUA_USE_DLOPEN		/* needs an extra library: -ldl */
+#if !defined(LUA_READLINELIB)
 #define LUA_READLINELIB		"libreadline.so"
 #endif
+#endif
 
 
 #if defined(LUA_USE_MACOSX)
