--- a/src/disk_interface.cc
+++ b/src/disk_interface.cc.mod
@@ -216,7 +216,7 @@
 #elif defined(_AIX)
   return (int64_t)st.st_mtime * 1000000000LL + st.st_mtime_n;
 #else
-  return (int64_t)st.st_mtime * 1000000000LL + st.st_mtimensec;
+  return (int64_t)st.st_mtim.tv_sec * 1000000000LL + st.st_mtim.tv_nsec;
 #endif
 #endif
 }
