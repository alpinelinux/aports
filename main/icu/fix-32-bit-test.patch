Patch-Source: https://github.com/unicode-org/icu/pull/3496
From 17aaa2d3718389bcd6ebe1be81ada5c1f2a56c74 Mon Sep 17 00:00:00 2001
From: David Seifert <soap@gentoo.org>
Date: Mon, 10 Nov 2025 10:44:18 +0100
Subject: [PATCH] ICU-23120 Mask UnicodeStringTest::TestLargeMemory on 32-bit
 platforms

---
 icu4c/source/test/intltest/ustrtest.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/icu4c/source/test/intltest/ustrtest.cpp b/icu4c/source/test/intltest/ustrtest.cpp
index de96cdf149eb..16bcdfbc3afe 100644
--- a/test/intltest/ustrtest.cpp
+++ b/test/intltest/ustrtest.cpp
@@ -2375,7 +2375,7 @@ void UnicodeStringTest::TestUnicodeStringInsertAppendToSelf() {
 }
 
 void UnicodeStringTest::TestLargeMemory() {
-#if U_PLATFORM_IS_LINUX_BASED || U_PLATFORM_IS_DARWIN_BASED
+#if (U_PLATFORM_IS_LINUX_BASED || U_PLATFORM_IS_DARWIN_BASED) && (UINTPTR_MAX == 0xFFFFFFFFFFFFFFFF)
     if(quick) { return; }
     IcuTestErrorCode status(*this, "TestLargeMemory");
     constexpr uint32_t len = 2147483643;
