# Contributor: Johannes Matheis <jomat+alpinebuild@jmt.gr>
# Maintainer: Johannes Matheis <jomat+alpinebuild@jmt.gr>
pkgname=xcalib
pkgver=0.8
pkgrel=0
pkgdesc="A tiny monitor calibration loader for X.org"
url="http://xcalib.sourceforge.net/"
arch="all"
license="GPL"
depends=""
depends_dev=""
makedepends="$depends_dev libx11-dev libxxf86vm-dev"
install=""
source="https://downloads.sourceforge.net/${pkgname}/${pkgname}-source-${pkgver}.tar.gz"

builddir="$srcdir/$pkgname-$pkgver"
prepare() {
   local i
   cd "$builddir"
   for i in $source; do
       case $i in
       *.patch) msg $i; patch -p1 -i "$srcdir"/$i;;
       esac
   done
}

build() {
   cd "$builddir"
   make xcalib
}

package() {
   cd "$builddir"
   install -Dm755 xcalib $pkgdir/usr/bin/xcalib

   for i in README *.icc *.icm; do
       install -Dm644 $i $pkgdir/usr/share/xcalib/$i
   done

}

sha512sums="08d4cf579e566543ef7e5d233a6a49dd34a791a6aac31510d459d2300ec81828cf77ba2c495ee0c5e72e910c1986fc53c9ccd8f8455f097747508dd6adae8216  xcalib-source-0.8.tar.gz"
