# Contributor: Natanael Copa <ncopa@alpinelinux.org>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=ortp
pkgver=0.25.0
pkgrel=0
pkgdesc="A C library implementing the RTP protocol (RFC3550)"
url="http://www.linphone.org/index.php/code_review/ortp"
arch="all"
license="LGPL-2.0-or-later VSL"
depends=""
makedepends=""
install=""
subpackages="$pkgname-dev"
source="http://nongnu.askapache.com/linphone/ortp/sources/ortp-$pkgver.tar.gz
	"

builddir="$srcdir"/ortp-$pkgver
prepare() {
	local i
	cd "$builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i;;
		esac
	done
}

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--disable-static \
		--enable-ipv6
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="8e4ee626e644983d3839f5f0a300ba6781177f2b8d67c843270fc9db1486ee6c29baad4b95168021ac8cfb85f56adbfbc424e297a6ad3704071a01cf8871bef9  ortp-0.25.0.tar.gz"
