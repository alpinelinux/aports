From b2432f9daf73326485e1d187834d58ef3f296583 Mon Sep 17 00:00:00 2001
From: Jozef Mlich <jmlich83@gmail.com>
Date: Wed, 10 Sep 2025 12:35:18 +0200
Subject: [PATCH] Add generate_export_header to be able compile with
 -DBUILD_SHARED_LIBS=ON

Fixes: #68
---
 daemon/Qt-AES/CMakeLists.txt | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/daemon/Qt-AES/CMakeLists.txt b/daemon/Qt-AES/CMakeLists.txt
index f06bd5d..8a6a882 100644
--- a/daemon/Qt-AES/CMakeLists.txt
+++ b/daemon/Qt-AES/CMakeLists.txt
@@ -58,6 +58,8 @@ add_library(QtAES)
 
 if(NOT QTAES_STANDALONE_BUILD)
     add_library(${PROJECT_NAME}::QtAES ALIAS QtAES)
+    include(GenerateExportHeader)
+    generate_export_header(QtAES EXPORT_MACRO_NAME QTAESSHARED_EXPORT)
 endif()
 
 file(WRITE "${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}/QAESEncryption" "#include \"qaesencryption.h\"")
-- 
2.51.0

