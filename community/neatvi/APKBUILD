# Maintainer: mio <miyopan@e.email>
maintainer="mio <miyopan@e.email>"
pkgname=neatvi
pkgver=18
pkgrel=0
pkgdesc="Small vi/ex editor for editing UTF-8 text"
url="https://github.com/aligrudi/neatvi"
arch="all"
license="ISC" # vi.c
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/aligrudi/neatvi/archive/$pkgver.tar.gz
	conf.patch
	"

build() {
	make CC="$CC" CFLAGS="$CFLAGS" LDFLAGS="$LDFLAGS"
}

check() {
	./test.sh
}

package() {
	install -Dvm755 vi "$pkgdir"/usr/bin/neatvi
	install -Dvm755 neatvi.sh -t "$pkgdir"/usr/share/neatvi/
	install -Dvm644 README -t "$pkgdir"/usr/share/doc/neatvi/
}

sha512sums="
ffa0c4771c0e0144a23f925d83f14bbae580b87b81192bd99e97421ae7446a0b7e8e320e267071be459d167f8e6d463b134b75217040c9f33782e99c3ea6709e  neatvi-18.tar.gz
ffab1a93c591ac751b1c060c2908ea3f8c5e0896354c56e4ff67b760e8e76d77e8ed8b9bf466f9022ae3c2432d944c0d5bb48ab07ca25e2aa9ec0daa08b15443  conf.patch
"
