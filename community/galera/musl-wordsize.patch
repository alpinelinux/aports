--- a/galerautils/src/gu_arch.h
+++ b/galerautils/src/gu_arch.h
@@ -50,9 +50,14 @@
 #elif defined(__APPLE__) || defined(__FreeBSD__)
 # include <stdint.h>
 # define GU_WORDSIZE __WORDSIZE
-#else
-# include <bits/wordsize.h>
-# define GU_WORDSIZE __WORDSIZE
+#else /* use this instead of bits/wordsize.h */
+# include <stdint.h>
+# include <limits.h>
+# if LONG_MAX == 0x7fffffffL
+# define GU_WORDSIZE 32
+# else
+# define GU_WORDSIZE 64
+# endif
 #endif
 
 #include <stdint.h>
