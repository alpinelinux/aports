From 4761ca41ab1f611cd4a6d117f9f6cfd7c64f6b55 Mon Sep 17 00:00:00 2001
From: MadMaurice <madmaurice@zom.bi>
Date: Fri, 31 Aug 2018 00:01:40 +0200
Subject: [PATCH] Lower bucket params

Use 1 tokens per second and 5 burst instead of 4 tokens per second and 30 burst
---
 src/murmur/ServerUser.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/murmur/ServerUser.cpp b/src/murmur/ServerUser.cpp
index e5c570d47..5356690de 100644
--- a/src/murmur/ServerUser.cpp
+++ b/src/murmur/ServerUser.cpp
@@ -138,8 +138,8 @@ unsigned long millisecondsBetween(time_point start, time_point end) {
 
 #endif
 
-// Rate limiting: burst up to 30, 4 message per sec limit over longer time
-LeakyBucket::LeakyBucket() : tokensPerSec(4), maxTokens(30), currentTokens(0) {
+// Rate limiting: burst up to 5, 1 message per sec limit over longer time
+LeakyBucket::LeakyBucket() : tokensPerSec(1), maxTokens(5), currentTokens(0) {
 	lastUpdate = now();
 }
 
