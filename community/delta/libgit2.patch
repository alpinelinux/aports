diff --git a/Cargo.lock b/Cargo.lock
index f411266..839304c 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -622,9 +622,9 @@ dependencies = [
 
 [[package]]
 name = "git2"
-version = "0.14.2"
+version = "0.17.2"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "3826a6e0e2215d7a41c2bfc7c9244123969273f3476b939a226aac0ab56e9e3c"
+checksum = "7b989d6a7ca95a362cf2cfc5ad688b3a467be1f87e480b8dad07fee8c79b0044"
 dependencies = [
  "bitflags",
  "libc",
@@ -746,9 +746,9 @@ checksum = "349d5a591cd28b49e1d1037471617a32ddcda5731b99419008085f72d5a53836"
 
 [[package]]
 name = "libgit2-sys"
-version = "0.13.2+1.4.2"
+version = "0.15.2+1.6.4"
 source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "3a42de9a51a5c12e00fc0e4ca6bc2ea43582fc6418488e8f615e905d886f258b"
+checksum = "a80df2e11fb4a61f4ba2ab42dbe7f74468da143f1a75c74e11dee7c813f694fa"
 dependencies = [
  "cc",
  "libc",
diff --git a/Cargo.toml b/Cargo.toml
index 46fd969..2beaaef 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -45,7 +45,7 @@ vte = "0.10.1"
 xdg = "2.4.1"
 
 [dependencies.git2]
-version = "0.14.0"
+version = "0.17.0"
 default-features = false
 features = []
 
diff --git a/src/options/get.rs b/src/options/get.rs
index a09d166..697bd0c 100644
--- a/src/options/get.rs
+++ b/src/options/get.rs
@@ -46,7 +46,9 @@ lazy_static! {
 
 pub fn get_themes(git_config: Option<git_config::GitConfig>) -> Vec<String> {
     let mut themes: Vec<String> = Vec::new();
-    for e in &git_config.unwrap().config.entries(None).unwrap() {
+    let git_config = git_config.unwrap();
+    let mut entries = git_config.config.entries(None).unwrap();
+    while let Some(e) = entries.next() {
         let entry = e.unwrap();
         let entry_name = entry.name().unwrap();
         let caps = GIT_CONFIG_THEME_REGEX.captures(entry_name);
