Refs:
https://github.com/PyCQA/docformatter/commit/1b3f03d334d9c1322ccaa02b655aedadc150d9d3
https://github.com/PyCQA/docformatter/commit/926d9f0f88cfeb142c0f1fab399cf95359070285
Backported for 1.7.7.
---
diff -rupN a/src/docformatter/encode.py b/src/docformatter/encode.py
--- a/src/docformatter/encode.py	2025-05-11 04:43:38.000000000 +0000
+++ b/src/docformatter/encode.py	2025-11-09 22:21:21.270000000 +0000
@@ -43,7 +43,7 @@ class Encoder:
     CRLF = "\r\n"
 
     # Default encoding to use if the file encoding cannot be detected
-    DEFAULT_ENCODING = "latin-1"
+    DEFAULT_ENCODING = sys.getdefaultencoding()
 
     def __init__(self):
         """Initialize an Encoder instance."""
@@ -60,9 +60,15 @@ class Encoder:
         """
         try:
             detection_result = from_path(filename).best()
-            self.encoding = (
-                detection_result.encoding if detection_result else self.DEFAULT_ENCODING
-            )
+            if detection_result and detection_result.encoding in ["utf_16", "utf_32"]:
+                # Treat undetectable/binary encodings as failure
+                self.encoding = self.DEFAULT_ENCODING
+            else:
+                self.encoding = (
+                    detection_result.encoding
+                    if detection_result
+                    else self.DEFAULT_ENCODING
+                )
 
             # Check for correctness of encoding.
             with self.do_open_with_encoding(filename) as check_file:
diff -rupN a/tests/test_encoding_functions.py b/tests/test_encoding_functions.py
--- a/tests/test_encoding_functions.py	2025-05-11 04:43:38.000000000 +0000
+++ b/tests/test_encoding_functions.py	2025-11-09 22:11:31.540000000 +0000
@@ -92,7 +92,7 @@ class TestDetectEncoding:
         # Simulate a file with undetectable encoding
         with open(temporary_file, "wb") as file:
             # Binary content unlikely to have a detectable encoding
-            file.write(b"\xFF\xFE\xFD\xFC\x00\x00\x00\x00")
+            file.write(b"\xff\xfe\xfd\xfc\x00\x00\x00\x00")
 
         uut.do_detect_encoding(temporary_file)
 
