# Contributor: Fabian Affolter <fabian@affolter-engineering.ch>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=makepasswd
pkgver=0.5.4
pkgrel=0
pkgdesc="Generates (pseudo-)random passwords of a desired length"
url="https://www.defora.org/os/project/117/makepasswd"
arch="all"
license="GPL-3.0"
depends=""
makedepends="libxslt docbook-xsl openssl-dev"
install=""
subpackages="$pkgname-doc"
source="https://www.defora.org/os/download/download/4438/$pkgname-$pkgver.tar.gz"

builddir="$srcdir"/$pkgname-$pkgver

build() {
	cd "$builddir"
	make || return 1
	cd doc
	make || return 1
}

package() {
	cd "$builddir"
	install -D -p -m 755 src/makepasswd "$pkgdir"/usr/bin/makepasswd
	install -D -p -m 644 doc/makepasswd.1 \
		"$pkgdir"/usr/share/man/man1/$pkgname.1  || return 1
}

sha512sums="c8721826c7329b2c4e7fc2226e31a081347b66a76827ca669547125fed2175035ecd6b7d46aacdf8ae6ee140281caf31e5bdbecdd2807723800596fd0140aaa0  makepasswd-0.5.4.tar.gz"
