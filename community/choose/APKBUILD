# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=choose
pkgver=1.3.7
pkgrel=0
pkgdesc="A human-friendly and fast alternative to cut and (sometimes) awk"
url="https://github.com/theryangeary/choose"
arch="all"
license="GPL-3.0-or-later"
makedepends="cargo cargo-auditable"
source="https://github.com/theryangeary/choose/archive/v$pkgver/choose-$pkgver.tar.gz"

prepare() {
	default_prepare

	cargo fetch --target="$CTARGET" --locked
}

build() {
	cargo auditable build --frozen --release
}

check() {
	cargo test --frozen
}

package() {
	install -Dm755 target/release/choose -t "$pkgdir"/usr/bin/
}

sha512sums="
665bd3f846df30b08cd6345f98632f6c9aa00c6903553099124ffe3936a597b9b10951472074ed83cfd9ba54bb53c89d68afb0c0b6501b8f0805cb1b664b0e43  choose-1.3.7.tar.gz
"
