diff --git a/buffer.c b/buffer.c
index 38e6d77..bf83c3f 100644
--- a/buffer.c
+++ b/buffer.c
@@ -2,7 +2,7 @@
 
 #include "buffer.h"
 
-void buffer_init(buffer *s,int (*op)(),int fd,char *buf,unsigned int len)
+void buffer_init(buffer *s,int (*op)(int, const char *, unsigned int),int fd,char *buf,unsigned int len)
 {
   s->x = buf;
   s->fd = fd;
diff --git a/buffer.h b/buffer.h
index c0ab3b1..e6ed6b3 100644
--- a/buffer.h
+++ b/buffer.h
@@ -8,14 +8,14 @@ typedef struct buffer {
   unsigned int p;
   unsigned int n;
   int fd;
-  int (*op)();
+  int (*op)(int, const char *, unsigned int);
 } buffer;
 
 #define BUFFER_INIT(op,fd,buf,len) { (buf), 0, (len), (fd), (op) }
 #define BUFFER_INSIZE 8192
 #define BUFFER_OUTSIZE 8192
 
-extern void buffer_init(buffer *,int (*)(),int,char *,unsigned int);
+extern void buffer_init(buffer *,int (*)(int, const char *, unsigned int),int,char *,unsigned int);
 
 extern int buffer_flush(buffer *);
 extern int buffer_put(buffer *,const char *,unsigned int);
@@ -51,7 +51,7 @@ extern void buffer_seek(buffer *,unsigned int);
 extern int buffer_copy(buffer *out,buffer *in);
 extern int buffer_copyline(buffer *out,buffer *in,char eol);
 
-extern int buffer_unixread(int,char *,unsigned int);
+extern int buffer_unixread(int,const char *,unsigned int);
 extern int buffer_unixwrite(int,const char *,unsigned int);
 
 extern buffer *buffer_0;
diff --git a/buffer_0.c b/buffer_0.c
index 47d3263..345b8a1 100644
--- a/buffer_0.c
+++ b/buffer_0.c
@@ -2,7 +2,7 @@
 
 #include "buffer.h"
 
-int buffer_0_read(fd,buf,len) int fd; char *buf; int len;
+int buffer_0_read(int fd, const char *buf, unsigned int len)
 {
   if (buffer_flush(buffer_1) == -1) return -1;
   return buffer_unixread(fd,buf,len);
diff --git a/buffer_get.c b/buffer_get.c
index 3a6e1b6..7addd83 100644
--- a/buffer_get.c
+++ b/buffer_get.c
@@ -4,12 +4,12 @@
 #include "byte.h"
 #include "error.h"
 
-static int oneread(int (*op)(),int fd,char *buf,unsigned int len)
+static int oneread(int (*op)(int, const char *, unsigned int),int fd,char *buf,unsigned int len)
 {
   int r;
 
   for (;;) {
-    r = op(fd,buf,len);
+    r = op(fd,(const char *)buf,len);
     if (r == -1) if (errno == error_intr) continue;
     return r;
   }
diff --git a/buffer_put.c b/buffer_put.c
index ca8f85b..2f09551 100644
--- a/buffer_put.c
+++ b/buffer_put.c
@@ -5,7 +5,7 @@
 #include "byte.h"
 #include "error.h"
 
-static int allwrite(int (*op)(),int fd,const char *buf,unsigned int len)
+static int allwrite(int (*op)(int, const char *, unsigned int),int fd,const char *buf,unsigned int len)
 {
   int w;
 
diff --git a/buffer_read.c b/buffer_read.c
index 09db05f..45c5fc2 100644
--- a/buffer_read.c
+++ b/buffer_read.c
@@ -3,7 +3,7 @@
 #include <unistd.h>
 #include "buffer.h"
 
-int buffer_unixread(int fd,char *buf,unsigned int len)
+int buffer_unixread(int fd,const char *buf,unsigned int len)
 {
-  return read(fd,buf,len);
+  return read(fd,(char *)buf,len);
 }
diff --git a/multilog.c b/multilog.c
index 464bb39..aa01f1f 100644
--- a/multilog.c
+++ b/multilog.c
@@ -275,7 +275,7 @@ void fullcurrent(struct cyclog *d)
   }
 }
 
-int c_write(int pos,char *buf,int len)
+int c_write(int pos,const char *buf,unsigned int len)
 {
   struct cyclog *d;
   int w;
@@ -450,17 +450,19 @@ int flagexitasap = 0;
 int flagforcerotate = 0;
 int flagnewline = 1;
 
-void exitasap(void)
+void exitasap(int sig)
 {
+  (void)sig;
   flagexitasap = 1;
 }
 
-void forcerotate(void)
+void forcerotate(int sig)
 {
+  (void)sig;
   flagforcerotate = 1;
 }
 
-int flushread(int fd,char *buf,int len)
+int flushread(int fd,const char *buf,unsigned int len)
 {
   int j;
 
diff --git a/select.h1 b/select.h1
index 68e971f..f0f501f 100644
--- a/select.h1
+++ b/select.h1
@@ -7,6 +7,6 @@
 
 #include <sys/types.h>
 #include <sys/time.h>
-extern int select();
+#include <sys/select.h>
 
 #endif
diff --git a/select.h2 b/select.h2
index 4bd4fcf..b7ac8c9 100644
--- a/select.h2
+++ b/select.h2
@@ -8,6 +8,5 @@
 #include <sys/types.h>
 #include <sys/time.h>
 #include <sys/select.h>
-extern int select();
 
 #endif
diff --git a/sig.c b/sig.c
index c219e87..67e04f2 100644
--- a/sig.c
+++ b/sig.c
@@ -12,5 +12,5 @@ int sig_pipe = SIGPIPE;
 int sig_term = SIGTERM;
 int sig_ttystop = SIGTSTP;
 
-void (*sig_defaulthandler)() = SIG_DFL;
-void (*sig_ignorehandler)() = SIG_IGN;
+void (*sig_defaulthandler)(int) = SIG_DFL;
+void (*sig_ignorehandler)(int) = SIG_IGN;
diff --git a/sig.h b/sig.h
index db19cca..eabf9e1 100644
--- a/sig.h
+++ b/sig.h
@@ -12,10 +12,10 @@ extern int sig_pipe;
 extern int sig_term;
 extern int sig_ttystop;
 
-extern void (*sig_defaulthandler)();
-extern void (*sig_ignorehandler)();
+extern void (*sig_defaulthandler)(int);
+extern void (*sig_ignorehandler)(int);
 
-extern void sig_catch(int,void (*)());
+extern void sig_catch(int,void (*)(int));
 #define sig_ignore(s) (sig_catch((s),sig_ignorehandler))
 #define sig_uncatch(s) (sig_catch((s),sig_defaulthandler))
 
diff --git a/sig_catch.c b/sig_catch.c
index 7b5bd89..aa2af50 100644
--- a/sig_catch.c
+++ b/sig_catch.c
@@ -4,7 +4,7 @@
 #include "sig.h"
 #include "hassgact.h"
 
-void sig_catch(int sig,void (*f)())
+void sig_catch(int sig,void (*f)(int))
 {
 #ifdef HASSIGACTION
   struct sigaction sa;
diff --git a/supervise.c b/supervise.c
index 046c3e5..8064f20 100644
--- a/supervise.c
+++ b/supervise.c
@@ -72,32 +72,36 @@ static void die_nomem(void)
   strerr_die2sys(111,FATAL,"unable to allocate memory");
 }
 
-static void trigger(void)
+static void trigger(int sig)
 {
   int ignored;
+  (void)sig;
   ignored = write(selfpipe[1],"",1);
   (void)ignored;
 }
 
-static void terminate(void)
+static void terminate(int sig)
 {
   int ignored;
+  (void)sig;
   ignored = write(fdcontrolwrite,"dx",2);
   ignored = write(selfpipe[1],"",1);
   (void)ignored;
 }
 
-static void ttystop(void)
+static void ttystop(int sig)
 {
   int ignored;
+  (void)sig;
   ignored = write(fdcontrolwrite,"p",1);
   ignored = write(selfpipe[1],"",1);
   (void)ignored;
 }
 
-static void resume(void)
+static void resume(int sig)
 {
   int ignored;
+  (void)sig;
   ignored = write(fdcontrolwrite,"c",1);
   ignored = write(selfpipe[1],"",1);
   (void)ignored;
@@ -111,7 +115,7 @@ static int forkexecve(struct svc *svc,const char *argv[],int fd)
     case -1:
       strerr_warn4sys(WARNING,"unable to fork for ",dir,", sleeping 60 seconds");
       deepsleep(60);
-      trigger();
+      trigger(0);
       return -1;
     case 0:
       sig_uncatch(sig_child);
diff --git a/tai64n.c b/tai64n.c
index 97da45e..a9be16d 100644
--- a/tai64n.c
+++ b/tai64n.c
@@ -2,7 +2,7 @@
 #include "timestamp.h"
 #include "buffer.h"
 
-int mywrite(int fd,char *buf,int len)
+int mywrite(int fd,const char *buf,unsigned int len)
 {
   int w;
   w = buffer_unixwrite(fd,buf,len);
@@ -13,7 +13,7 @@ int mywrite(int fd,char *buf,int len)
 char outbuf[2048];
 buffer out = BUFFER_INIT(mywrite,1,outbuf,sizeof outbuf);
 
-int myread(int fd,char *buf,int len)
+int myread(int fd,const char *buf,unsigned int len)
 {
   int r;
   buffer_flush(&out);
