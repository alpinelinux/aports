# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=postgresql-shared_ispell
_projname=shared_ispell
pkgver=1.1.0_git20250904
_gitrev=c92e0154ce9ab511c9774427f3edaaba7cc26a73
pkgrel=0
pkgdesc="PostgreSQL shared ispell dictionary extension"
url="https://github.com/postgrespro/shared_ispell"
arch="all"
license="PostgreSQL"
makedepends="postgresql-dev"
install="$pkgname.post-install"
source="https://github.com/postgrespro/shared_ispell/archive/$_gitrev/$_projname-$_gitrev.tar.gz"
builddir="$srcdir/$_projname-$_gitrev"
options="!check"  # XXX: tests require running PostgreSQL

build() {
	make USE_PGXS=1
}

package() {
	depends="postgresql$(pg_config --major-version)"

	make install USE_PGXS=1 DESTDIR="$pkgdir"
}

sha512sums="
6614cafe8f71e5a6f451f2db0ad288b613bbb1ac6e1e265e147cd7ef82c01ec1df930a22dce4d454ad73f8bc696db4aca825bcadb2b86fa396bf6a0b7449bda3  shared_ispell-c92e0154ce9ab511c9774427f3edaaba7cc26a73.tar.gz
"
