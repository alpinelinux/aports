From 23ffcecd33e945e4521eb62663a421b369a87fd8 Mon Sep 17 00:00:00 2001
From: Natanael Copa <ncopa@alpinelinux.org>
Date: Tue, 24 Feb 2026 15:18:29 +0100
Subject: [PATCH] docs: fix parallel builds

Avoid tempfile clash when building in parallel.

fixes https://gitlab.gnome.org/GNOME/gnumeric/-/issues/852
---
 tools/itstoolwrapper | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/tools/itstoolwrapper b/tools/itstoolwrapper
index 70be4d172..4567b307e 100755
--- a/tools/itstoolwrapper
+++ b/tools/itstoolwrapper
@@ -33,7 +33,7 @@ sub make_potfile {
     my ($dasho, $potfile, $main) = @ARGV;
 
     my $tmp = $main;
-    $tmp =~ s/(\.xml)$/-tmp$1/;
+    $tmp =~ s/(\.xml)$/$$-tmp$1/;
 
     &run ("xmllint", "--noent", "-o", $tmp, $main);
     &exit_if_failed ();
@@ -50,7 +50,7 @@ sub make_mofile {
     my $rbuilddir = &dirname ($mofile);
 
     my $tmpbase = &basename ($main);
-    $tmpbase =~ s/(\.xml)$/-tmp$1/;
+    $tmpbase =~ s/(\.xml)$/$$-tmp$1/;
     # The ".." here means "somewhere else" because intltool is weird
     my $tmp = "$rbuilddir/../$tmpbase";
 
-- 
2.53.0

