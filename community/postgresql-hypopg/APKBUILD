# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=postgresql-hypopg
_projname=hypopg
pkgver=1.4.2
pkgrel=0
pkgdesc="An extension adding hypothetical indexes in PostgreSQL"
url="https://github.com/HypoPG/hypopg"
arch="all"
license="PostgreSQL"
makedepends="postgresql-dev"
source="https://github.com/HypoPG/hypopg/archive/$pkgver/$pkgname-$pkgver.tar.gz"
builddir="$srcdir/$_projname-$pkgver"
options="!check"  # tests require running PostgreSQL

build() {
	make
}

package() {
	depends="postgresql$(pg_config --major-version)"

	make install DESTDIR="$pkgdir"
}

sha512sums="
f6aa69a11a18cd26cf278ef6808147e66b051e0e8b4023ed652faf64d532e4092663f9336e9a4a72e2d0429f6b8fdc5a96b3e21ee5cc44f9fae437a411e99980  postgresql-hypopg-1.4.2.tar.gz
"
