# Contributor: Magnus Sandin <magnus.sandin@valitron.se>
# Maintainer: Magnus Sandin <magnus.sandin@valitron.se>
pkgname=noise-repellent
pkgver=0.2.5
pkgrel=0
pkgdesc="lv2 plug-in for broadband noise reduction"
url="https://github.com/lucianodato/noise-repellent"
arch="all"
license="LGPL-3.0-only"
makedepends="
	cmake
	fftw-dev
	libspecbleach-dev
	libsndfile-dev
	lv2-dev
	meson
	"
source="noise-repellent-$pkgver.tar.gz::https://github.com/lucianodato/noise-repellent/archive/refs/tags/v$pkgver.tar.gz
	"
options="!check" # No tests available

build() {
	abuild-meson \
		-Db_lto=true \
		--buildtype=release \
		--prefix=/usr/lib \
		. output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
b7c4f6f1531d649a193db9e1083a031d603a9ecee45577357b4defe6525ce3e5141ff51bb054ec6416cc3e4388c96e1dc5a16b7f5aa488ce5e235355c0d39255  noise-repellent-0.2.5.tar.gz
"
