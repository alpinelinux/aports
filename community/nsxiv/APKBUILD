# Contributor: Dmitry Zakharchenko <dmitz@disroot.org>
# Maintainer: mio <miyopan@e.email>
maintainer="mio <miyopan@e.email>"
pkgname=nsxiv
pkgver=34
pkgrel=0
pkgdesc="Neo Simple X Image Viewer"
url="https://codeberg.org/nsxiv/nsxiv"
arch="all"
license="GPL-2.0-or-later"
options="!check" # no test suite
replaces="sxiv"
provides="sxiv=$pkgver-r$pkgrel"
makedepends="
	giflib-dev
	imlib2-dev
	libexif-dev
	libwebp-dev
	libx11-dev
	libxft-dev
	"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver-2.tar.gz::https://codeberg.org/nsxiv/nsxiv/archive/v$pkgver.tar.gz"
builddir="$srcdir/$pkgname"

prepare() {
	default_prepare
	ln -s config.def.h config.h
}

build() {
	make
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install-all
}

sha512sums="
5dee903fcb8415614cccd10aea13a752e1e3dafd0fff85e7496d7fece2f4c58a522c84f6c052b685c46829f5b52fbcee6e93f0b443d5dd7ee59dad065df8a455  nsxiv-34-2.tar.gz
"
