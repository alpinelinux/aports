# Contributor: Leonardo Arena <rnalrd@alpinelinux.org>
# Maintainer: Leonardo Arena <rnalrd@alpinelinux.org>
pkgname=qt5-qtkeychain
_realname=qtkeychain
pkgver=0.9.1
pkgrel=0
pkgdesc="Qt API to store passwords and other secret data"
url="https://github.com/frankosterfeld/qtkeychain"
arch="all"
license="BSD"
makedepends="$depends_dev cmake qt5-qttools-dev"
subpackages="$pkgname-dev"
replaces="qtkeychain"
source="$pkgname-$pkgver.tar.gz::https://github.com/frankosterfeld/qtkeychain/archive/v$pkgver.tar.gz"
options="!check"
builddir="$srcdir"/$_realname-$pkgver

build() {
	cd "$builddir"
	cmake \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DCMAKE_INSTALL_LIBEXECDIR=lib/${_realname} \
		-DCMAKE_BUILD_TYPE=Release
	make || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="c80bd25a5b72c175d0d4a985b952924c807bf67be33eeb89e2b83757727e642c10d8d737cea9744d2faad74c50c1b55d82b306135559c35c91a088c3b198b33a  qt5-qtkeychain-0.9.1.tar.gz"
