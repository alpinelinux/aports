maintainer="Achill Gilgenast <achill@achill.org>"
pkgname=qrcodegen
pkgver=1.8.0
pkgrel=0
pkgdesc="High-quality QR Code generator library"
url="https://www.nayuki.io/page/qr-code-generator-library"
arch="all"
license="MIT"
subpackages="$pkgname-dev $pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/nayuki/QR-Code-generator/archive/refs/tags/v$pkgver.tar.gz
	shared-c.patch
	"
builddir="$srcdir/QR-Code-generator-$pkgver"
options="!check" # no tests

build() {
	make -C c
}

package() {
	make DESTDIR="$pkgdir" -C c install
	install -Dm644 Readme.markdown \
		-t "$pkgdir"/usr/share/doc/$pkgname/ # also contains the license
}

sha512sums="
0cdf0873e71aed124fc7357da86fb26f23fd26432f94c9752fa5a044085b26e5aece2115134d0e50213ff24be7c55818e7dec31205a68751065bc82ab0c2c6ac  qrcodegen-1.8.0.tar.gz
c1111db3c0a4b231da0dbf81746c0a065c727fb580bcda802531641cd4130c10c768ba8ea189811e14735ce754169e22e671ea61b6a25928f84699db9e2d0436  shared-c.patch
"
