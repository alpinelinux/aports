# Maintainer: Simon Zeni <simon@bl4ckb0ne.ca>
pkgname=harec
pkgver=0.26.0
pkgrel=0
pkgdesc="The Hare compiler"
url="https://harelang.org"
arch="x86_64 aarch64 riscv64"
license="GPL-3.0-only"
depends="qbe"
source="
	$pkgname-$pkgver.tar.gz::https://git.sr.ht/~sircmpwn/harec/archive/$pkgver.tar.gz
"

build() {
	cp configs/linux.mk ./config.mk
	make PREFIX=/usr ARCH=$CARCH
}

check() {
	make ARCH=$CARCH check
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install
}

sha512sums="
c7c6103d53e936f13021a50f49a7f44b8ead03a9a6d66e25b0326518458483065c3ad415d8368f76ab2ad652b3febcb7366d3e7460121a3089d689af38ab1ee6  harec-0.26.0.tar.gz
"
