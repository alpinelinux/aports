# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=compton
pkgver=0.1_beta2
pkgrel=1
pkgdesc="X Compositor (a fork of xcompmgr-dana)"
url="https://github.com/chjj/compton"
arch="all"
license="MIT"
makedepends="libx11-dev libxcomposite-dev libxinerama-dev libxdamage-dev \
	libconfig-dev pcre-dev libxrandr-dev dbus-dev libdrm-dev mesa-dev asciidoc"
install=""
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/chjj/$pkgname/archive/v$pkgver.tar.gz"

builddir="$srcdir"/$pkgname-$pkgver

build() {
	cd "$builddir"
	make PREFIX=/usr
}

package() {
	cd "$builddir"
	make PREFIX="$pkgdir"/usr install
	install -D -m644 "LICENSE" "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
	install -D -m644 "compton.sample.conf" "$pkgdir/etc/xdg/compton.conf.example"
}

sha512sums="c3a019d90e32559d44e3a4969bcc15a15837db9c9519ce8cc70b1bd3d0cb16d29449f68cc2f6a8d834569c9620ec6533ab85c1586da957c69b1ae341d9584535  compton-0.1_beta2.tar.gz"
