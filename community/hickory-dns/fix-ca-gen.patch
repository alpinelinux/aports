diff --git a/justfile b/justfile
index 17817d1d7..8117e2339 100644
--- a/justfile
+++ b/justfile
@@ -163,7 +163,7 @@ coverage-lcov: coverage
 [unix]
 generate-test-certs: init-openssl
     cd {{TEST_DATA}} && rm -f ca.key ca.pem cert.key cert-key.pkcs8 cert.csr cert.pem cert.p12
-    scripts/gen_certs.sh
+    {{justfile_directory()}}/scripts/gen_certs.sh
     cd {{TEST_DATA}}/test_configs/sec && rm -f example.key example.key.pem example.cert example.cert.pem example.p12
     cd {{TEST_DATA}}/test_configs/sec && ./gen-keys.sh
 
diff --git a/scripts/gen_certs.sh b/scripts/gen_certs.sh
index 4ec0c2aba..636d51132 100755
--- a/scripts/gen_certs.sh
+++ b/scripts/gen_certs.sh
@@ -37,7 +37,7 @@ EOF
 
 # CA
 echo "----> Generating CA <----"
-${OPENSSL:?} req -x509 -new -nodes -newkey rsa:4096 -days 365 -keyout ca.key -out ca.pem -config /tmp/ca.conf
+${OPENSSL:?} req -x509 -new -nodes -newkey rsa:4096 -days 365 -keyout ca.key -out ca.pem -config /tmp/ca.conf -extensions req_ext
 ${OPENSSL:?} x509 -in ca.pem -out ca.der -outform der  
 
 cat <<-EOF > /tmp/cert.conf
