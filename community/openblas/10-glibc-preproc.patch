--- a/driver/others/memory.c
+++ b/driver/others/memory.c
@@ -187,7 +187,7 @@
      
 #if !defined(__GLIBC_PREREQ)
    return nums;
-#endif   
+#else
 #if !__GLIBC_PREREQ(2, 3)
    return nums;
 #endif   
@@ -205,6 +205,7 @@
 #endif
   return nums;
 #endif
+#endif   
 
   cpusetp = CPU_ALLOC(nums);
   if (cpusetp == NULL) return nums;
