From b6234dfcfa2f0f79c9071b29d6d56d8acc4216f8 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dan=20Hor=C3=A1k?= <dan@danny.cz>
Date: Fri, 26 Sep 2025 16:54:03 +0200
Subject: [PATCH 2/2] fix typos in Power8 routines

Fixes: https://github.com/OpenMathLib/OpenBLAS/pull/5448
---
 kernel/power/zasum_microk_power8.c | 2 +-
 kernel/power/zcopy_microk_power8.c | 2 +-
 kernel/power/zdot_microk_power8.c  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/kernel/power/zasum_microk_power8.c b/kernel/power/zasum_microk_power8.c
index 942469c..8ec7c30 100644
--- a/kernel/power/zasum_microk_power8.c
+++ b/kernel/power/zasum_microk_power8.c
@@ -154,7 +154,7 @@ static double zasum_kernel_8 (long n, double *x)
        "=wa" (t2),	// 5
        "=wa" (t3)	// 6
      :
-       "m" (*(const double (*)[n * 2]) x)
+       "m" (*(const double (*)[n * 2]) x),
        "b" (16),	// 8
        "b" (32),	// 9
        "b" (48),	// 10
diff --git a/kernel/power/zcopy_microk_power8.c b/kernel/power/zcopy_microk_power8.c
index cebcf90..8ae3f8b 100644
--- a/kernel/power/zcopy_microk_power8.c
+++ b/kernel/power/zcopy_microk_power8.c
@@ -134,7 +134,7 @@ static void zcopy_kernel_16 (long n, FLOAT *x, FLOAT *y)
 
      "#n=%1 x=%4=%2 y=%0=%3 o16=%5 o32=%6 o48=%7 o64=%8 o80=%9 o96=%10 o112=%11"
      :
-       "m"  (*(FLOAT (*)[n * 2]) y),
+       "=m"  (*(FLOAT (*)[n * 2]) y),
        "+r" (n),	// 1
        "+b" (x),	// 2
        "+b" (y)		// 3
diff --git a/kernel/power/zdot_microk_power8.c b/kernel/power/zdot_microk_power8.c
index 87bda93..584d9d4 100644
--- a/kernel/power/zdot_microk_power8.c
+++ b/kernel/power/zdot_microk_power8.c
@@ -186,7 +186,7 @@ static void zdot_kernel_8 (long n, double *x, double *y, double *dot)
 
      "#n=%1 x=%4=%2 y=%5=%3 dot=%0=%6 o16=%7 o32=%8 o48=%9"
      :
-       "=m" (*(double) (*)[4]) dot),
+       "=m" (*(double (*)[4]) dot),
        "+r" (n),	// 1
        "+b" (x),	// 2
        "+b" (y)		// 3
-- 
2.52.0

