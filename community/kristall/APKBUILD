# Contributor: omni <omni@gitlab.alpinelinux.org>
# Maintainer: omni <omni@gitlab.alpinelinux.org>
pkgname=kristall
pkgver=0.4_git20260202
_commit=8d8ef6bbd7aeaf3bd242babd4f69245a496a05eb
pkgrel=0
pkgdesc="Qt small-internet client for gemini, gopher, finger and http(s)"
url="https://kristall.random-projects.net/"
# armhf: missing qt6-qtdeclarative (qt6-qtmultimedia)
arch="all !armhf"
license="GPL-3.0-or-later"
makedepends="coreutils
	qt6-qtbase-dev
	qt6-qtmultimedia-dev
	qt6-qtsvg-dev
	qt6-qttools-dev
	qt6-qt5compat-dev
	"
options="!check" # no test suite
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/MasterQ32/kristall/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	make QMAKE_COMMAND=qmake6 KRISTALL_VERSION="$pkgver"
}

package() {
	make QMAKE_COMMAND=qmake6 install DESTDIR="$pkgdir" PREFIX=/usr
}

sha512sums="
82580b60bb0fedc25a60837d28f75a1de7e0fec35c4247647001f788aba4b46481f20fd6f9c1ab1e261abdbfa0d89ee9fa35e67e924618277c2352ed2aa38b29  kristall-0.4_git20260202.tar.gz
"
