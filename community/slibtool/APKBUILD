# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=slibtool
pkgver=0.7.4
pkgrel=0
pkgdesc="Surrogate libtool implementation written in C"
options="!check" # No testsuite
url="https://git.foss21.org/slibtool"
arch="all"
license="MIT"
makedepends="m4"
subpackages="$pkgname-dev $pkgname-libs"
source="https://dl.foss21.org/slibtool/slibtool-$pkgver.tar.xz"

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--enable-shared
	make
}

package() {
	make DESTDIR="$pkgdir" install

	install -Dvm644 COPYING.SLIBTOOL \
		-t "$pkgdir"/usr/share/licenses/$pkgname/
}

sha512sums="
f7a37877455d0a7ca2b3e672d2d4e7b11581da0b29fd2923ad6ca79941b018f181a80ea2700751cbb1de531900ee9da2460203a1fad420047d42a76fb596df06  slibtool-0.7.4.tar.xz
"
