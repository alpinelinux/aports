# Automatically generated by apkbuild-cpan, template 1
# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=perl-business-issn
_pkgreal=Business-ISSN
pkgver=1.002
pkgrel=0
pkgdesc="Perl extension for International Standard Serial Numbers"
url="http://search.cpan.org/dist/Business-ISSN/"
arch="noarch"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/B/BD/BDFOY/$_pkgreal-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	default_prepare || return 1

	cd "$builddir"
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$builddir"
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	make && make test
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="c226db6cdb9dfe77d17ad1d540b49f47  Business-ISSN-1.002.tar.gz"
sha256sums="cb889cae7f2461bb35c3294eaeceb4ee39011974faf7d4dd4effe2c5cc38e5e1  Business-ISSN-1.002.tar.gz"
sha512sums="c6a2d4ff750071080fc5e6859e0f959bcc14ddc307a28891636d36bbee220de40100148fd96475ad0dd5c0bfac1fdd9f5f47c2d5797c9c1b78c84f0fc811a9a1  Business-ISSN-1.002.tar.gz"
