# Automatically generated by apkbuild-cpan, template 1
# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=perl-business-issn
_pkgreal=Business-ISSN
pkgver=1.001
pkgrel=0
pkgdesc="Perl extension for International Standard Serial Numbers"
url="http://search.cpan.org/dist/Business-ISSN/"
arch="noarch"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/B/BD/BDFOY/$_pkgreal-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	default_prepare || return 1

	cd "$builddir"
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$builddir"
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	make && make test
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="004a95c3a44b1c2915ec62cdee66673d  Business-ISSN-1.001.tar.gz"
sha256sums="7c065feae85ae469aa7f17b30b3b6b2f9637b424e5863b627b62eeb2bbc77d7a  Business-ISSN-1.001.tar.gz"
sha512sums="006be2fd553775a610d02c2e987ea491bd3a764c88d0756f2ed2a3055f6fe33f0bcc0b111c981b60f76195646280fae528211597f1229b2e687f197af07d4b36  Business-ISSN-1.001.tar.gz"
