From 79edb43dc6ffe97dcc14f9c53055cbecb5ba165d Mon Sep 17 00:00:00 2001
Patch-Source: https://github.com/dotnet/runtime/pull/77269
From: Sapana Khemkar <sapana.khemkar@ibm.com>
Date: Thu, 13 Oct 2022 07:45:23 +0000
Subject: [PATCH] use byte load instruction in OP_CHECK_THIS instead of double
 word instruction

---
 src/mono/mono/mini/mini-ppc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/runtime/src/mono/mono/mini/mini-ppc.c b/src/mono/mono/mini/mini-ppc.c
index bc97b497af93a..a2d8c5a714e3b 100644
--- a/src/runtime/src/mono/mono/mini/mini-ppc.c
+++ b/src/mono/mono/mini/mini-ppc.c
@@ -3837,7 +3837,7 @@ mono_arch_output_basic_block (MonoCompile *cfg, MonoBasicBlock *bb)
 		}
 		case OP_CHECK_THIS:
 			/* ensure ins->sreg1 is not NULL */
-			ppc_ldptr (code, ppc_r0, 0, ins->sreg1);
+			ppc_lbz (code, ppc_r0, 0, ins->sreg1);
 			break;
 		case OP_ARGLIST: {
 			long cookie_offset = cfg->sig_cookie + cfg->stack_usage;
