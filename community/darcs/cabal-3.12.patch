Ref: https://hub.darcs.net/darcs/darcs-reviewed/patch/50d9b0b402a896c83aa7929a50a0e0449838600f
---
diff -rupN a/Setup.hs b/Setup.hs
--- a/Setup.hs	2001-09-09 01:46:40.000000000 +0000
+++ b/Setup.hs	2026-02-17 18:13:57.550000000 +0000
@@ -8,7 +8,7 @@ import Distribution.PackageDescription (
 import Distribution.Package ( packageVersion )
 import Distribution.Version( Version )
 import Distribution.Simple.LocalBuildInfo
-         ( LocalBuildInfo(..), absoluteInstallDirs )
+         ( LocalBuildInfo(..), absoluteInstallDirs, buildDir )
 import Distribution.Simple.InstallDirs (mandir, CopyDest (NoCopyDest))
 import Distribution.Simple.Setup
     (buildVerbosity, copyDest, copyVerbosity, fromFlag,
diff -rupN a/darcs.cabal b/darcs.cabal
--- a/darcs.cabal	2026-02-17 18:10:50.440000000 +0000
+++ b/darcs.cabal	2026-02-17 18:12:28.480000000 +0000
@@ -124,7 +124,7 @@ flag warn-as-error
 
 custom-setup
     setup-depends: base      >= 4.10 && < 4.21,
-                   Cabal     >= 2.4 && < 3.11,
+                   Cabal     >= 2.4 && < 3.13,
                    process   >= 1.2.3.0 && < 1.7,
                    filepath  >= 1.4.1 && < 1.5.0.0,
                    directory >= 1.2.7 && < 1.4
