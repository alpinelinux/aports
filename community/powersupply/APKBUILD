# Contributor: Martijn Braam <martijn@brixit.nl>
maintainer="Luca Weiss <luca@lucaweiss.eu>"
pkgname=powersupply
pkgver=0.10.2
pkgrel=0
pkgdesc="Mobile app to display power status of phones"
url="https://gitlab.postmarketos.org/postmarketOS/powersupply"
arch="noarch"
license="MIT"
source="https://gitlab.postmarketos.org/postmarketOS/powersupply/-/archive/$pkgver/powersupply-$pkgver.tar.gz"
depends="
	gtk4.0
	libadwaita
	py3-gobject3
	python3
	"
makedepends="
	gtk4.0-dev
	libadwaita-dev
	meson
	"
options="!check" # There's no testsuite

build() {
	abuild-meson . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
ccbb84fb6d771a40d39a368b0e9cbc549b41c1f9c05407d7db13e60c9a423e546853c34c2eed52f74596c1523cb02828c636ba11bd053a3b17f4f0a3c5a33e30  powersupply-0.10.2.tar.gz
"
