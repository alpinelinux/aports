diff --git a/app/streaming/streamutils.cpp b/app/streaming/streamutils.cpp
index 2aa5a51d..55b3cb7c 100644
--- a/app/streaming/streamutils.cpp
+++ b/app/streaming/streamutils.cpp
@@ -37,6 +37,9 @@
 #if __has_include(<asm/hwprobe.h>)
 #include <asm/hwprobe.h>
 #include <sys/syscall.h>
+#ifndef __NR_riscv_hwprobe
+#define __NR_riscv_hwprobe 258
+#endif
 #else
 #define __NR_riscv_hwprobe 258
 struct riscv_hwprobe {
