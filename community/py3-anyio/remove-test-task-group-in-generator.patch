Patch-Source: https://github.com/agronholm/anyio/commit/0e86c62043b5753f95193c1afe4c07a8653ae666
---
From 0e86c62043b5753f95193c1afe4c07a8653ae666 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Alex=20Gr=C3=B6nholm?= <alex.gronholm@nextday.fi>
Date: Wed, 10 Sep 2025 12:19:18 +0300
Subject: [PATCH] Removed a meaningless test

This test fails on Trio v0.31.0 as Trio now checks for abandoned nurseries on task exit. The asyncgen finalizer on asyncio was cleaning up the generator after the first round, and the RuntimeError was swallowed by the asyncio runner.
---
 tests/test_taskgroups.py | 22 ----------------------
 1 file changed, 22 deletions(-)

diff --git a/tests/test_taskgroups.py b/tests/test_taskgroups.py
index d99e0cdb..05394e03 100644
--- a/tests/test_taskgroups.py
+++ b/tests/test_taskgroups.py
@@ -1057,28 +1057,6 @@ async def taskfunc() -> None:
     assert not got_past_checkpoint
 
 
-def test_task_group_in_generator(
-    anyio_backend_name: str, anyio_backend_options: dict[str, Any]
-) -> None:
-    async def task_group_generator() -> AsyncGenerator[None, None]:
-        async with create_task_group():
-            yield
-
-    gen = task_group_generator()
-    anyio.run(
-        gen.__anext__,
-        backend=anyio_backend_name,
-        backend_options=anyio_backend_options,
-    )
-    pytest.raises(
-        StopAsyncIteration,
-        anyio.run,
-        gen.__anext__,
-        backend=anyio_backend_name,
-        backend_options=anyio_backend_options,
-    )
-
-
 async def test_exception_group_filtering() -> None:
     """Test that CancelledErrors are filtered out of nested exception groups."""
 
