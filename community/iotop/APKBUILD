# Contributor: William Pitcock <nenolod@dereferenced.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=iotop
pkgver=0.6
pkgrel=2
pkgdesc="I/O monitoring tool"
url="http://guichaz.free.fr/iotop"
arch="noarch"
license="GPL-2.0-or-later"
depends="python3"
depends_dev=""
makedepends="python3-dev py3-setuptools"
install=""
subpackages="$pkgname-doc"
source="http://guichaz.free.fr/iotop/files/iotop-$pkgver.tar.bz2
	0001-Fix-build-error-with-Python-3-caused-by-itervalues-i.patch
	fix-python-path.patch
	"
builddir="$srcdir"/iotop-$pkgver

build() {
	cd "$builddir"
	python3 setup.py build
}

package() {
	cd "$builddir"
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="b1047da3bc46604447cc8ab22442a3a5381e1a79a6b176fe9ee8402ee5cebb959205407a6aeaffccccde9d2f67624ff8ee6717b051838f13ab88bf3a16db3ab9  iotop-0.6.tar.bz2
80e32c6ef37315c27ef93bab5295ace1e1626b8935361b43243a9302796174d3eef2012840e6be10ee4931d652a309e4bfeaba65c54f8f4ce88b93515b1640d2  0001-Fix-build-error-with-Python-3-caused-by-itervalues-i.patch
704f2bed6863f9e2c9bf5a6a58b6ff95b8172bdcdf33d15c7eddf7ecccbb7689f51eca2424343128247fa45521c68c0a68772d2fbbce044b7f1da228e29e3a15  fix-python-path.patch"
