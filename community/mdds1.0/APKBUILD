# Contributor: Timo Teräs <timo.teras@iki.fi>
# Maintainer: Timo Teräs <timo.teras@iki.fi>
pkgname="mdds1.0"
_realname=mdds
pkgver=1.0.0
pkgrel=1
_sha="3183d3ca85e9b8878f9144cc29ab90504a0d0454"
pkgdesc="Multi-dimensional data index algorithm"
url="https://gitlab.com/mdds/mdds"
arch="noarch"
license="MIT"
depends=""
depends_dev=""
makedepends="$depends_dev automake autoconf libtool"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="$_realname-$pkgver.tar.gz::https://gitlab.com/mdds/mdds/repository/archive.tar.gz?ref=$pkgver"

builddir="$srcdir/$_realname-$pkgver-$_sha"

prepare() {
	cd "$builddir"
	default_prepare
	./autogen.sh
}

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info \
		--localstatedir=/var
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
	install -d 755 "$pkgdir"/usr/lib
	mv "$pkgdir"/usr/share/pkgconfig "$pkgdir"/usr/lib/
}

sha512sums="9eda126f78b221f098918822eea599b5a63abf86fbc733b8f603671809a3d63504fb12d7a500a49c67346a42cbeaaffabd15049092f7d1068150a24c617014b0  mdds-1.0.0.tar.gz"
