# Contributor: Magnus Sandin <magnus.sandin@valitron.se>
# Maintainer: Magnus Sandin <magnus.sandin@valitron.se>
pkgname=libspecbleach
pkgver=0.2.0
pkgrel=0
pkgdesc="Standalone library based on the algorithms used in noise-repellent."
url="https://github.com/lucianodato/libspecbleach"
arch="all"
license="LGPL-2.1-only"
depends_dev="$pkgname=$pkgver-r$pkgrel"
makedepends="
	fftw-dev
	meson
	"
subpackages="$pkgname-dev"
source="libspecbleach-$pkgver.tar.gz::https://github.com/lucianodato/libspecbleach/archive/refs/tags/v$pkgver.tar.gz"
options="!check" # No tests available

build() {
	abuild-meson -Db_lto=true . output
	meson compile -C output
}

package() {
	DESTDIR="$pkgdir" meson install -C output
}

sha512sums="
52c03116dd5559e74913df101d6ff491042a55d09bf49e988341ace3b50ce61de6c1e396234965d57dc11c5c0a1b47b46661c08aa285da7b268aceb69bbed189  libspecbleach-0.2.0.tar.gz
"
