# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=libre2
_pkgname=re2
pkgver=2017.06.01
_pkgver=${pkgver//./-}
pkgrel=0
pkgdesc="an efficient, principled regular expression library"
url="https://code.google.com/p/re2/"
arch="all"
license="custom"
makedepends=""
options="!check"
subpackages="$pkgname-dev $pkgname-doc"
source="https://github.com/google/$_pkgname/archive/$_pkgver.tar.gz"
builddir="$srcdir"/$_pkgname-$_pkgver

build() {
	cd "$builddir"
	make
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" prefix=/usr install
	install -Dm644 LICENSE \
		"$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="b0bdb333ff1385f1118a9bfcf4f85acfbcb8db4b33c0820636eac33b48d7dae3da08531234a05953247bc79b3c8118204b441ceaeb37f21e55c9006cb82f3da0  2017-06-01.tar.gz"
