# Contributor: Kofi Jedamzik <kofi@jedamzik.net>
# Maintainer: Kofi Jedamzik <kofi@jedamzik.net>
pkgname=xsv
pkgver=0.12.2
pkgrel=0
pkgdesc="A fast CSV toolkit written in Rust. "
url="https://github.com/BurntSushi/xsv"
arch="x86_64"
license="MIT"
makedepends="cargo"
source="${pkgname}-${pkgver}.tar.gz::https://github.com/BurntSushi/xsv/archive/$pkgver.tar.gz"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
  cd "$builddir"
  cargo build --release --verbose
}

check() {
  cd "$builddir/target/release"
  echo "first header,second header" | ./xsv stats
}

package() {
  cd "$builddir/target/release"
  install -Dm755 ./xsv "$pkgdir"/usr/bin/xsv
}

sha512sums="52de9ea7f3f988826f809a27de696656c1f390d4ffda3b42987cb99344e338d11c2895fb8d9fa3172ef0f05ee2269fd419d814ae68069917a8e198d5acdb2716  xsv-0.12.2.tar.gz"
