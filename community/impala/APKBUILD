# Contributor: Milan P. Stanić <mps@arvanta.net>
# Maintainer: Milan P. Stanić <mps@arvanta.net>
pkgname=impala
pkgver=0.5.0
pkgrel=0
pkgdesc="TUI for managing iwd"
url="https://github.com/pythops/impala"
arch="all"
license="GPL-3.0-or-later"
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz"
options="net !check" # Required to download crates, check not usable


prepare() {
	default_prepare

	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --frozen --release
}

package() {
	install -Dm 755 target/release/$pkgname $pkgdir/usr/bin/$pkgname
	install -Dm 644 Readme.md -t $pkgdir/usr/share/doc/$pkgname
}

sha512sums="
f094ab711a92a36ca8c28fa8650eb4ffa0960493a3eb9876f85e7fc79920775b3059a93adee508e64629db114fa2ea195bf0f95bdfedb997ae1ac078039bcc14  impala-0.5.0.tar.gz
"
