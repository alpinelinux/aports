# Contributor: Milan P. Stanić <mps@arvanta.net>
# Maintainer: Milan P. Stanić <mps@arvanta.net>
pkgname=impala
pkgver=0.4.1
pkgrel=0
pkgdesc="TUI for managing iwd"
url="https://github.com/pythops/impala"
arch="all"
license="GPL-3.0-or-later"
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz"
options="net !check" # Required to download crates, check not usable


prepare() {
	default_prepare

	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --frozen --release
}

package() {
	install -Dm 755 target/release/$pkgname $pkgdir/usr/bin/$pkgname
	install -Dm 644 Readme.md -t $pkgdir/usr/share/doc/$pkgname
}

sha512sums="
73ce959e6757c3047a1f8e83e3bfade6eed7987cde87ac20fbb35eb85b82d1055577f3142171b0d372699e245af531b84fef532b82de61623f07a73c6c53036e  impala-0.4.1.tar.gz
"
