# Contributor: Milan P. Stanić <mps@arvanta.net>
# Maintainer: Milan P. Stanić <mps@arvanta.net>
pkgname=impala
pkgver=0.6.0
pkgrel=0
pkgdesc="TUI for managing iwd"
url="https://github.com/pythops/impala"
arch="all"
license="GPL-3.0-or-later"
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz"
options="net !check" # Required to download crates, check not usable


prepare() {
	default_prepare

	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --frozen --release
}

package() {
	install -Dm 755 target/release/$pkgname $pkgdir/usr/bin/$pkgname
	install -Dm 644 Readme.md -t $pkgdir/usr/share/doc/$pkgname
}

sha512sums="
2f4aaec9c5dfde0fff82021988ba5d1a47723f0b95db4cbcbb7b8286de07116117f4032143879eaa2c5854ed0dfd4700191cb7a82c16777885f1b397f14f4931  impala-0.6.0.tar.gz
"
