# Contributor: Milan P. Stanić <mps@arvanta.net>
# Maintainer: Milan P. Stanić <mps@arvanta.net>
pkgname=impala
pkgver=0.7.2
pkgrel=0
pkgdesc="TUI for managing iwd"
url="https://github.com/pythops/impala"
arch="all"
license="GPL-3.0-or-later"
makedepends="cargo cargo-auditable"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::$url/archive/refs/tags/v$pkgver.tar.gz"
options="net !check" # Required to download crates, check not usable


prepare() {
	default_prepare

	cargo fetch --target="$CHOST" --locked
}

build() {
	cargo auditable build --frozen --release
}

package() {
	install -Dm 755 target/release/$pkgname $pkgdir/usr/bin/$pkgname
	install -Dm 644 Readme.md -t $pkgdir/usr/share/doc/$pkgname
}

sha512sums="
231f9965fdc0e53ae2cf93d8acc0d6f23209f83dec512e0735e80b67b29d5f713b00d32739c64745c9482ce04dcb4b344d32daccdfe15aad7d0859bdfb5958a7  impala-0.7.2.tar.gz
"
