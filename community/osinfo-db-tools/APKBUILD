# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=osinfo-db-tools
pkgver=1.2.0
pkgrel=0
pkgdesc="Tools for managing the osinfo database"
url="http://libosinfo.org/"
arch="all"
license="GPL-2.0-or-later"
depends=""
depends_dev=""
makedepends="$depends_dev intltool glib-dev libxml2-dev libarchive-dev
	libxslt-dev"
install=""
subpackages="$pkgname-doc $pkgname-lang"
source="https://releases.pagure.org/libosinfo/osinfo-db-tools-$pkgver.tar.gz"
builddir="$srcdir/osinfo-db-tools-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

check() {
	cd "$builddir"
	make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}

sha512sums="6e2519eacb5b60449c968e53a4363966b42ca7c564fac7db7d982ceeecfa70ac0662dc6ea75a2d503a7fa74c8789e0fd1331cd8fd3d75fec5d2cd1a646896b3d  osinfo-db-tools-1.2.0.tar.gz"
