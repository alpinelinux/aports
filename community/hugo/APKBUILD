# Contributor: Thomas Boerger <thomas@webhippie.de>
# Maintainer: Thomas Boerger <thomas@webhippie.de>
pkgname=hugo
pkgver=0.20.6
pkgrel=0
pkgdesc="A Fast and Flexible Static Site Generator built with love in GoLang"
url="http://gohugo.io/"
arch="all !ppc64le"
license="Apache 2.0"
depends=""
makedepends="go govendor"
install=""
source="${pkgname}-${pkgver}.tar.gz::https://github.com/spf13/hugo/archive/v$pkgver.tar.gz"
builddir="$srcdir/src/github.com/spf13/$pkgname"

prepare() {
	mkdir -p ${builddir%/*}
	mv "$srcdir"/$pkgname-$pkgver "$builddir"/ || return 1
	default_prepare
}

build() {
	cd "$builddir"
	export GOPATH="$srcdir"
	govendor sync -v || return 1
	go build -v -o bin/$pkgname || return 1
}

package() {
	install -Dm755 "$builddir"/bin/$pkgname "$pkgdir"/usr/bin/$pkgname
}

md5sums="4cea34e4683a5700a6c6b09dc089cb08  hugo-0.20.6.tar.gz"
sha256sums="7edc370bd14f146af8079ecf785b38b9570f1d3d6f47b3312971abcb3c232bee  hugo-0.20.6.tar.gz"
sha512sums="81515e92a10a2cce65ccd24dd4b70a5119af2e768fe86e3d0f5d4e60ec9247c64a729490136c83fd25cda5913c601d3e93b6366c632ca82f3fac2eb622ab7a9f  hugo-0.20.6.tar.gz"
