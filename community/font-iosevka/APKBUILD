# Maintainer: Will Sinatra <wpsinatra@gmail.com>
maintainer="Will Sinatra <wpsinatra@gmail.com>"
pkgname=font-iosevka
pkgver=34.1.0
pkgrel=0
pkgdesc="Versatile typeface for code, from code"
url="https://typeof.net/Iosevka/"
arch="noarch"
options="!check" # no testsuite
license="OFL-1.1"
depends="fontconfig"
subpackages="
	$pkgname-base
	$pkgname-aile
	$pkgname-etoile
	$pkgname-slab
	$pkgname-curly
	$pkgname-curly-slab:curly_slab
	"
source="
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-Iosevka-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaAile-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaEtoile-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-IosevkaSlab-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-SGr-IosevkaCurly-$pkgver.zip
	https://github.com/be5invis/Iosevka/releases/download/v$pkgver/PkgTTC-SGr-IosevkaCurlySlab-$pkgver.zip
	"

builddir="$srcdir"

package() {
	depends="
		$pkgname-base=$pkgver-r$pkgrel
		$pkgname-aile=$pkgver-r$pkgrel
		$pkgname-etoile=$pkgver-r$pkgrel
		$pkgname-slab=$pkgver-r$pkgrel
		$pkgname-curly=$pkgver-r$pkgrel
		$pkgname-curly-slab=$pkgver-r$pkgrel
		"

	install -Dm644 "$builddir"/*.ttc \
		-t "$pkgdir"/usr/share/fonts/${pkgname#font-}
}

base() {
	pkgdesc="$pkgdesc (Iosevka)"
	amove usr/share/fonts/iosevka/Iosevka-*.ttc
}

aile() {
	pkgdesc="$pkgdesc (Iosevka Aile)"
	amove usr/share/fonts/iosevka/IosevkaAile-*.ttc
}

etoile() {
	pkgdesc="$pkgdesc (Iosevka Etoile)"
	amove usr/share/fonts/iosevka/IosevkaEtoile-*.ttc
}

slab() {
	pkgdesc="$pkgdesc (Iosevka Slab)"
	amove usr/share/fonts/iosevka/IosevkaSlab-*.ttc
}

curly() {
	pkgdesc="$pkgdesc (Iosevka Curly)"
	amove usr/share/fonts/iosevka/SGr-IosevkaCurly-*.ttc
}

curly_slab() {
	pkgdesc="$pkgdesc (Iosevka Curly Slab)"
	amove usr/share/fonts/iosevka/SGr-IosevkaCurlySlab-*.ttc
}

sha512sums="
540d895e1459159d9beefe316d56132708eeff9dc0506fce550b2bb2dc928c38ff4ccd6ba733e5f38f50eb85ce924062cab7b71affdb41cdc818b0ab73d5f521  PkgTTC-Iosevka-34.1.0.zip
e209de1d32af21a1dc8d65292eae2ec50042d017a6d1e869107b0c89111af9259b01311cb671be704f6b85beb68aa4d645ee17731a0646d655a751221d831b1b  PkgTTC-IosevkaAile-34.1.0.zip
c305b5a16e9438fca62eb15003619b0ab204205f1b0d003136669f7aa072222e5112211bcd05ba53070cf48af9b86a839481021b572f3bb04a2f20109666f3f4  PkgTTC-IosevkaEtoile-34.1.0.zip
badf28865934c972f728567a7386cc1cc340777d8d04f5083166ed20a122d169a8131bb609c167a01cafb44669e97cf9c84ec3cb96dbc547fe7617a6fd295976  PkgTTC-IosevkaSlab-34.1.0.zip
ae78e9788a59425686d089c44eec47323ab81cbe8d2fbfaafbc55f2dcc8999067a2ef9c182594bc9e7815220c52bd7688d36a87ea3d4fa7cd42edcfc3c1124ee  PkgTTC-SGr-IosevkaCurly-34.1.0.zip
37c5dde6e7f6abe32f8bf834b7483d7abcdd3883d41923dc3e478d207f5a0e81a870c6f61230b4826659fbbe6704cbaf65bedfc92eaa5271892abce73f961704  PkgTTC-SGr-IosevkaCurlySlab-34.1.0.zip
"
