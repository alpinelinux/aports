# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=murex
pkgver=7.1.4143
pkgrel=1
pkgdesc="Intuitive, typed and content aware shell"
url="https://murex.rocks/"
arch="all"
license="GPL-2.0-only"
makedepends="go"
checkdepends="aspell"
subpackages="$pkgname-doc"
source="https://github.com/lmorg/murex/archive/v$pkgver/murex-$pkgver.tar.gz"

export GOCACHE="${GOCACHE:-"$srcdir/go-cache"}"
export GOTMPDIR="${GOTMPDIR:-"$srcdir"}"
export GOMODCACHE="${GOMODCACHE:-"$srcdir/go"}"

build() {
	go build -v
}

check() {
	go test -v ./...
}

package() {
	install -Dvm755 murex -t "$pkgdir"/usr/bin/

	install -dvm755 "$pkgdir"/usr/share/doc
	cp -rv docs "$pkgdir"/usr/share/doc/$pkgname
	cp -rv examples "$pkgdir"/usr/share/doc/$pkgname/
}

sha512sums="
5b05c8884507f73bbcd75634fe4cd8f1bba5c3871b1ea05644036169aa3c3bf3af701ed3a32637a51afe2d9989ad03db3221f502f1dbdbc49d422dac33be9136  murex-7.1.4143.tar.gz
"
